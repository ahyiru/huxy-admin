(self.webpackChunk=self.webpackChunk||[]).push([[831],{32350:function(ee,x,t){var e=t(24246),o=t(99074),A=t(74335);const P=({children:c,...h})=>(0,e.jsx)(A.mH,{...h,children:(0,e.jsx)(o.Z,{placement:"topLeft",title:c,children:c})});x.Z=P},33440:function(ee,x,t){var e=t(24246),o=t(74335);const A=({style:P,children:c,...h})=>(0,e.jsx)(o.s_,{style:{background:"var(--panelBgColor)",...P},...h,children:c});x.Z=A},26034:function(ee,x,t){var e=t(24246),o=t(58476),A=t(56591),P=t(74335),c=t(71090);const h={gutter:[12,12],style:{}},M={xl:2,lg:3,md:3,sm:4,xs:6},m=b=>{const{submit:T,loading:F,children:E,handler:$,initialValues:w,...V}=b,[d]=o.Z.useForm();return(0,e.jsx)("div",{className:"sm-form-style",...V,children:(0,e.jsx)(o.Z,{layout:"inline",form:d,initialValues:w,onFinish:L=>T((0,c.yfi)(L)),style:{width:"100%"},children:(0,e.jsxs)(P.rj,{rowProps:h,colProps:M,children:[(0,e.jsx)("div",{itemprops:{style:{flex:"1 0 auto"},xs:12},children:$}),E,(0,e.jsxs)("div",{itemprops:{style:{maxWidth:"176px"}},style:{float:"right"},children:[(0,e.jsx)(A.ZP,{loading:F,type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(A.ZP,{style:{marginLeft:"12px"},onClick:()=>d.resetFields(),children:"\u91CD\u7F6E"})]})]})})})};x.Z=m},91040:function(ee,x,t){var e=t(27378),o=t(18124);const A=(P,c=null,h,M=null)=>{const[m,b]=(0,o.r5)({}),T=(0,e.useCallback)(E=>P&&b({res:P({...M,...E})},h),[]);(0,e.useEffect)(()=>{T({...c})},[]);const{res:F}=m;return[{pending:F?.pending,data:F?.result},T]};x.Z=A},30904:function(ee,x,t){var e=t(27378),o=t(91040);const A=(P,c=null,h,M=null)=>{const{current:m,size:b,...T}=c||{},F=(0,e.useRef)(T||{}),E=(0,e.useRef)({current:m||1,size:b||10}),[$,w]=(0,o.Z)(P,{...E.current,...F.current},h,M);return[$,z=>{const{current:N,size:X,...k}=z||{};E.current={current:N??E.current.current,size:X??E.current.size},F.current={...F.current,...k},w({...E.current,...F.current})},(z,N)=>{E.current={current:z,size:N},w({...E.current,...F.current})},z=>{F.current=z,E.current={...E.current,current:1},w({...E.current,...F.current})}]};x.Z=A},8975:function(ee,x,t){t.r(x);var e=t(24246),o=t(27378),A=t(34189),P=t(99074),c=t(56591),h=t(17494),M=t(65292),m=t(59059),b=t(58476),T=t(31734),F=t(70512),E=t(16864),$=t(27985),w=t(75838),V=t(74335),d=t(71090),L=t(30904),z=t(26034),N=t(33440),X=t(16426),k=t(2385);const{listMessageFn:Q,deleteMessageFn:ne,readMessageFn:oe}=k.default,_=[{label:"\u672A\u8BFB",value:0},{label:"\u5DF2\u8BFB",value:1}],ue=({handleAudit:Y,handleDelete:se},f,p)=>[{title:"\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u4E3B\u9898",dataIndex:"title",ellipsis:!0},{title:"\u5185\u5BB9",dataIndex:"context",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:U=>(0,e.jsx)(A.Z,{color:U?"blue":"yellow",children:U?"\u5DF2\u8BFB":"\u672A\u8BFB"})},...f?[{title:"\u5DF2\u8BFB\u7528\u6237",dataIndex:"reader",ellipsis:!0},{title:"\u63A5\u6536\u7528\u6237",dataIndex:"receiver",ellipsis:!0}]:[],{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(U,y)=>{const S=U||y.createtime||+new Date,G=(0,d.mrB)(new Date(S));return(0,e.jsx)(P.Z,{title:G,children:G})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(U,y)=>U||y.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",fixed:"right",render:(U,y)=>(0,e.jsxs)(e.Fragment,{children:[p?null:(0,e.jsx)(c.ZP,{type:"link",size:"small",disabled:y.status,onClick:()=>Y(y),children:"\u6807\u8BB0\u4E3A\u5DF2\u8BFB"}),f?(0,e.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>se(y),danger:!0,children:"\u5220\u9664"}):null]})}],te=Y=>{const f=(X.xZ.getState()||{}).role===5,[p,U]=(0,o.useState)([]),[y,S]=(0,o.useState)(0),G=Y.params,[de,ae,g,j]=(0,L.Z)(Q,{current:G?.current,size:G?.size},null,{status:y}),R=r=>{const l=r?[r]:p,I=l.map(H=>H._id),J=l.length>1?`(\u5171 ${l.length} \u9879)`:"";h.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${J}`,icon:(0,e.jsx)(E.Z,{}),content:`label: ${l.map(H=>H.title)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:H,message:q}=await ne({ids:I});H===200&&(d.ywV.success(q),U([]),ae({current:1}))},onCancel(){}})},Z=async r=>{const I=(r?[r]:p).map(q=>q._id),{code:J,message:H}=await oe({ids:I});J===200&&(U([]),ae({current:1}),X.Ou.setState(q=>q-I.length))},K=r=>{const{value:l}=r.target;S(l),ae({current:1,status:l})},W=y&&!f?null:{selectedRowKeys:p.map(r=>r._id),onChange:(r,l)=>{U(l)},getCheckboxProps:r=>({}),columnWidth:"30px",fixed:!0};let n=ue({handleDelete:R,handleAudit:Z},f,y);n=y&&!f?n.slice(0,-1):n;const{pending:s,data:u}=de,{total:i,current:B,size:C,list:O}=u||{},D={onShowSizeChange:(r,l)=>g(r,l),onChange:(r,l)=>g(r,l),showSizeChanger:!0,showQuickJumper:!0,total:i||1,current:B||1,pageSize:C||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(V.X2,{children:[(0,e.jsx)(V.JX,{children:(0,e.jsx)(N.Z,{children:(0,e.jsx)(z.Z,{submit:j,loading:s,handler:(0,e.jsxs)(M.Z,{size:"small",children:[(0,e.jsx)(m.ZP.Group,{optionType:"button",buttonStyle:"solid",options:_,onChange:K,value:y}),(0,e.jsxs)(e.Fragment,{children:[y?null:(0,e.jsx)(c.ZP,{loading:s,disabled:!p.length,onClick:()=>Z(),type:"primary",icon:(0,e.jsx)($.Z,{}),children:"\u6279\u91CF\u6807\u8BB0"}),f?(0,e.jsx)(c.ZP,{loading:s,disabled:!p.length,onClick:()=>R(),icon:(0,e.jsx)(w.Z,{}),children:"\u6279\u91CF\u5220\u9664"}):null]})]}),children:(0,e.jsx)(b.Z.Item,{name:"title",label:"\u4E3B\u9898",children:(0,e.jsx)(T.default,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(V.JX,{children:(0,e.jsx)(N.Z,{children:(0,e.jsx)(F.Z,{pagination:D,rowSelection:W,columns:n,dataSource:O??[],loading:s,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};x.default=te},72539:function(ee,x,t){t.r(x),t.d(x,{default:function(){return E}});var e=t(24246),o=t(27378),A=t(17494),P=t(56591),c=t(74335),h=t(71090),M=t(4645),m=t(16426),b=t(2385),T={},E=$=>{const w=m.xZ.getState()||{},V=async({type:d,label:L})=>{const{payCount:z}=w??{},N=z?`\u60A8\u8FD8\u5269\u4F59 ${z} \u6B21\u804A\u5929\u673A\u4F1A\uFF0C\u5F00\u901A\u65B0\u4F1A\u5458\u540E\u4F1A\u5C06\u5269\u4F59\u6B21\u6570\u7D2F\u52A0\u81F3\u65B0\u4F1A\u5458\u3002`:"";A.Z.confirm({title:"\u8BA2\u5355\u786E\u8BA4",content:`${N}\u786E\u5B9A\u5F00\u901A ${L}\u4F1A\u5458 \u5417\uFF1F`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:X,message:k,info:Q}=await b.default.addPayerFn({type:d});X===200&&(h.ywV.success(k),$.router.push({path:"/payer/count/pay",state:{info:Q}}))}})};return(0,e.jsx)("div",{children:(0,e.jsx)(c.X2,{gutter:20,children:M.QN.map(({type:d,label:L,price:z,period:N,count:X,description:k})=>(0,e.jsx)(c.JX,{span:4,xs:12,children:(0,e.jsxs)("div",{className:"count-card",children:[(0,e.jsx)("h4",{className:"order-title",children:L}),(0,e.jsxs)("p",{className:"order-info",children:["\u6709\u6548\u671F ",N," \u4E2A\u6708"]}),(0,e.jsxs)("p",{className:"order-info",children:["\u5BF9\u8BDD\u6B21\u6570 ",X," \u6B21"]}),k.split(`

`).map((Q,ne)=>(0,e.jsx)("p",{className:"order-desc",children:Q},`des-${ne}`)),(0,e.jsxs)("p",{className:"order-cost",children:[(0,e.jsx)("span",{children:"\u6D88\u8D39\uFF1A"}),(0,e.jsxs)("span",{className:"cost-num",children:["\xA5 ",z]})]}),(0,e.jsx)(P.ZP,{type:"primary",style:{width:"120px",paddingBottom:"15px"},onClick:Q=>V({type:d,label:L}),children:"\u5F00\u901A"})]})},d))})})}},16365:function(ee,x,t){t.r(x);var e=t(24246),o=t(27378),A=t(34189),P=t(99074),c=t(56591),h=t(17494),M=t(65292),m=t(58476),b=t(31734),T=t(70512),F=t(16864),E=t(74335),$=t(71090),w=t(30904),V=t(26034),d=t(2385),L=t(33440),z=t(16426);const{listPayerFn:N,deletePayerFn:X,auditPayerFn:k,cancelPayerFn:Q}=d.default,ne=({handleDelete:_,handleAudit:ue,handlePay:te,handleCancel:Y},se)=>[{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",ellipsis:!0},{title:"\u8BA2\u5355\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u540D\u79F0",dataIndex:"label",ellipsis:!0},{title:"\u6D88\u8D39",dataIndex:"price",ellipsis:!0,render:f=>`${f} \u5143`},{title:"\u6709\u6548\u671F",dataIndex:"period",ellipsis:!0,render:f=>`${f} \u4E2A\u6708`},{title:"\u6B21\u6570",dataIndex:"count",ellipsis:!0,render:f=>`${f} \u6B21`},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:(f,p)=>(0,e.jsx)(A.Z,{color:p.deleted?"yellow":f?"green":"red",children:p.deleted?"\u5DF2\u5931\u6548":f?"\u5DF2\u5BA1\u6838":"\u672A\u5BA1\u6838"})},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(f,p)=>{const U=f||p.createtime||+new Date,y=(0,$.mrB)(new Date(U));return(0,e.jsx)(P.Z,{title:y,children:y})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(f,p)=>f||p.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",render:(f,p)=>se?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.ZP,{type:"link",size:"small",disabled:!!p.status||p.deleted,onClick:()=>ue(p),children:"\u5BA1\u6838"}),(0,e.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>_(p),danger:!0,children:"\u5220\u9664"})]}):p.status?(0,e.jsx)(c.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u652F\u4ED8"}):p.deleted?(0,e.jsx)(c.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u5931\u6548"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>Y(p),children:"\u53D6\u6D88\u8BA2\u5355"}),(0,e.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>te(p),children:"\u53BB\u652F\u4ED8"})]})}],oe=_=>{const ue=z.xZ.getState()||{},{role:te,payCount:Y}=ue,se=_.history.getState()?.backState,f=_.history.getState()?.item,[p,U]=(0,o.useState)([]),y=_.params,[S,G,de,ae]=(0,w.Z)(N,{current:y?.current,size:y?.size}),g=r=>{_.router.push({path:"/payer/count/pay",state:{info:r}})},j=r=>{_.router.push({path:`./edit/${r._id}`,state:{item:r,backState:{path:_.path,params:{current:B,size:C},state:{item:f,backState:se}}}})},R=async()=>{_.router.push("./add")},n=ne({handlePay:g,handleDelete:r=>{const l=r?[r]:p,I=l.length>1?`(\u5171 ${l.length} \u9879)`:"";h.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${I}`,icon:(0,e.jsx)(F.Z,{}),content:`orderNo: ${l.map(J=>J.orderNo)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:J,message:H}=await X({items:l});J===200&&($.ywV.success(H),U([]),G({current:1}))},onCancel(){}})},handleAudit:async r=>{const{code:l,message:I}=await k(r);l===200&&($.ywV.success(I),G({current:1}))},handleCancel:async r=>{const{code:l,message:I}=await Q(r);l===200&&($.ywV.success(I),G({current:1}))}},te===5),{pending:s,data:u}=S,{total:i,current:B,size:C,list:O}=u||{},D={onShowSizeChange:(r,l)=>de(r,l),onChange:(r,l)=>de(r,l),showSizeChanger:!0,showQuickJumper:!0,total:i||1,current:B||1,pageSize:C||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(E.X2,{children:[(0,e.jsx)(E.JX,{children:(0,e.jsx)(L.Z,{children:(0,e.jsx)(V.Z,{submit:ae,loading:s,handler:(0,e.jsxs)(M.Z,{size:"small",children:[Y?(0,e.jsx)(c.ZP,{loading:s,onClick:()=>_.router.push("https://ihuxy.com/paychat"),type:"primary",children:"\u53BB\u804A\u5929"}):(0,e.jsx)(c.ZP,{loading:s,onClick:()=>_.router.push("/payer/count/member"),type:"primary",children:"\u5F00\u901A\u4F1A\u5458"}),(0,e.jsx)(c.ZP,{loading:s,onClick:()=>_.router.push("/chatbot"),children:"\u53BB\u8BD5\u7528"})]}),children:(0,e.jsx)(m.Z.Item,{name:"order",label:"\u8BA2\u5355\u53F7",children:(0,e.jsx)(b.default,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(E.JX,{children:(0,e.jsx)(L.Z,{children:(0,e.jsx)(T.Z,{pagination:D,columns:n,dataSource:O??[],loading:s,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};x.default=oe},58571:function(ee,x,t){t.r(x),t.d(x,{default:function(){return ae}});var e=t(24246),o=t(27378),A=t(17494),P=t(16864),c=t(76036),h=t(29029),M=t(74335),m=t(71090),b=t(30904),T=t(65292),F=t(56591),E=t(33440),$=t(31734),w=t(13458),V=t(59059),d=t(48158),L=t(58476);const z={Input:$.default,Select:w.default,Radio:V.ZP,Checkbox:d.Z};var X=g=>{const{submit:j,loading:R,searchFormText:Z="\u641C\u7D22",reset:K="\u91CD\u7F6E",formList:W=[],compList:a={}}=g,n={...z,compList:a},[s]=L.Z.useForm();return(0,e.jsxs)(L.Z,{layout:"inline",form:s,initialValues:{},onFinish:u=>j((0,m.yfi)(u)),children:[W.map(u=>{const{type:i,name:B,label:C,props:O,...D}=u,r=typeof i=="string"?n[(0,m.dtG)(i.trim())]:i||(l=>(0,e.jsx)("div",{...l}));return(0,e.jsx)(L.Z.Item,{name:B,label:C,...D,children:(0,e.jsx)(r,{...O})},B)}),(0,e.jsx)(L.Z.Item,{children:(0,e.jsxs)(T.Z,{size:"small",children:[(0,e.jsx)(F.ZP,{loading:R,type:"primary",htmlType:"submit",children:Z}),K&&(0,e.jsx)(F.ZP,{onClick:()=>s.resetFields(),children:K})]})})]})},k=t(70512),ne=g=>{const{result:j,pageChange:R,columns:Z,rowSelection:K,pagination:W,...a}=g,{pending:n,data:s}=j,{total:u,current:i,size:B,list:C}=s||{},O=(l,I)=>{R?.(l,I)},D=K?{columnWidth:"30px",...typeof K=="object"?K:null}:null,r=W===!1?!1:{onShowSizeChange:O,onChange:O,showSizeChanger:!0,showQuickJumper:!0,total:u||1,current:i||1,pageSize:B||10,pageSizeOptions:["10","20","30","40"],size:"small",...typeof W=="object"?W:null};return(0,e.jsx)(k.Z,{pagination:r,rowSelection:D,columns:Z,dataSource:C??[],loading:n,size:"small",bordered:!0,scroll:{x:!0},...a})},oe=t(27548),_=t(63532),te=g=>{const{result:j,pageChange:R,RenderItem:Z,itemSize:K=45,paramsKey:W,width:a="100%",height:n=600}=g,{pending:s,data:u}=j,{list:i=[],total:B=1,size:C=10,current:O=1}=u||{},D=(re,ce)=>{if(s)return;const le=~~((ce+1)/C);R?.(le,C)},r=(0,o.useRef)(null);(0,o.useEffect)(()=>{r.current&&(r.current.resetloadMoreItemsCache?.(),r.current._listRef?.scrollTo(0)),l.current={}},[W]);const l=(0,o.useRef)({[O]:i});s||(l.current[O]=i);const I=[];Object.keys(l.current).map(re=>I.push(...l.current[re]));const J=I.length,H=J<B,q=H?J+C:J,me=re=>!H||re<J;return(0,e.jsx)(_.Z,{ref:r,isItemLoaded:me,itemCount:q,loadMoreItems:D,children:({onItemsRendered:re,ref:ce})=>(0,e.jsx)(oe.t7,{height:n,width:a,className:"virtual-list",ref:ce,itemSize:K,itemCount:q,onItemsRendered:re,children:({index:le,style:pe})=>typeof Z=="function"?Z({index:le,style:pe,item:I[le],isItemLoaded:me}):`${le}-${I[le].name}`})})},Y=t(70008),f=g=>(0,e.jsx)("div",{style:{width:"100%",minHeight:"50vh"},children:(0,e.jsx)(Y.ZP,{children:({height:j,width:R})=>(0,e.jsx)(te,{...g,height:j,width:R})})});const p={table:ne,list:te,autoSize:f};var y=({result:g,actionList:j,formList:R,columns:Z,RenderItem:K,searchList:W,pageChange:a,rowSelection:n,paramsKey:s,rowKey:u="_id",listType:i})=>{const B=p[i]??p.table;return(0,e.jsxs)(M.X2,{children:[j?.length||R?.length?(0,e.jsx)(M.JX,{children:(0,e.jsxs)(E.Z,{children:[j?.length?(0,e.jsx)("div",{style:{float:"left"},children:(0,e.jsx)(T.Z,{size:"small",children:j.map(({key:C,type:O,label:D,icon:r,action:l,disabled:I})=>(0,e.jsx)(F.ZP,{loading:g.pending,onClick:J=>l?.(),type:O,icon:r,disabled:I,children:D},C))})}):null,R?.length?(0,e.jsx)("div",{style:{float:"right"},children:(0,e.jsx)(X,{formList:R,submit:W,loading:g.pending})}):null]})}):null,(0,e.jsx)(M.JX,{children:(0,e.jsx)(E.Z,{children:(0,e.jsx)(B,{result:g,columns:Z,RenderItem:K,pageChange:a,rowSelection:n,rowKey:u,paramsKey:s})})})]})},S=t(4128),G={},ae=g=>{const[j,R]=(0,o.useState)(g.type??"table"),[Z,K]=(0,o.useState)(1),[W,a]=(0,o.useState)(""),[n,s]=(0,o.useState)([]),[u,i,B,C]=(0,b.Z)(S.apiList.allUser,{current:1,size:10,active:Z}),{current:O,size:D}=u.data||{},r=v=>{R(v),i({current:1,size:10,active:Z})},l=v=>{K(v),i({current:1,size:10,active:v})},I=v=>{a(v),C(v)},J=v=>{g.router.push({path:`./auth/${v._id}`,state:{item:v,backState:{path:g.path,params:{current:O,size:D}}}})},H=v=>{g.router.push({path:`./edit/${v._id}`,state:{item:v,backState:{path:g.path,params:{current:O,size:D}}}})},q=v=>{const ie=v?[v]:n,fe=ie.map(he=>he._id),xe=ie.length>1?`(\u5171 ${ie.length} \u9879)`:"";A.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${xe}`,icon:(0,e.jsx)(P.Z,{}),content:`name: ${ie.map(he=>he.name)}`,okText:"\u5220\u9664",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:he,message:ge}=await S.apiList.deleteUser({ids:fe});he===200&&(m.ywV.success(ge),s([]),i({current:1}))},onCancel(){}})},me=()=>{g.router.push("./add")},re=async()=>{const{code:v,message:ie}=await S.apiList.export();v===200&&m.ywV.success(ie)},ce={selectedRowKeys:n.map(v=>v._id),onChange:(v,ie)=>{s(ie)}},le={handleCheck:J,handleEdit:H,handleDelete:q},pe={handleAdd:me,handleExport:re,handleDelete:q},Ee={RenderItem:S.BU,columns:(0,S.Pu)(S.Rt,(0,S.rf)(le)),result:u,pageChange:B,searchList:I,rowSelection:ce,formList:S.IR,listType:j,actionList:(0,S.VW)(pe,!n.length),paramsKey:JSON.stringify({...W,active:Z})};return(0,e.jsxs)("div",{className:"config-list",children:[(0,e.jsx)(M.GK,{tabs:S.eA,switchTab:l}),(0,e.jsx)(y,{...Ee}),(0,e.jsxs)("div",{className:"handle-bar",children:[(0,e.jsx)("span",{className:`link${j==="table"?" active":""}`,onClick:v=>r("table"),children:(0,e.jsx)(c.Z,{})}),(0,e.jsx)("span",{className:`link${j==="list"?" active":""}`,onClick:v=>r("list"),children:(0,e.jsx)(h.Z,{})})]})]})}},4645:function(ee,x,t){t.d(x,{FA:function(){return m},QN:function(){return e},Uy:function(){return o},bK:function(){return M}});const e=[{type:"vip1",label:"\u57FA\u7840\u7248",price:29,period:3,count:800,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

800 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 3 \u4E2A\u6708\u3002`},{type:"vip2",label:"\u767D\u94F6\u7248",price:39,period:6,count:1500,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

1500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 6 \u4E2A\u6708\u3002`},{type:"vip3",label:"\u9EC4\u91D1\u7248",price:69,period:12,count:3e3,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

3000 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 12 \u4E2A\u6708\u3002`}],o=[{value:0,label:"\u666E\u901A\u7528\u6237",price:0,period:0,name:"general",description:"\u6BCF\u5929 2 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002"},{value:1,label:"\u57FA\u7840\u4F1A\u5458",price:19,period:1,name:"vip1",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 50 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:2,label:"\u767D\u94F6\u4F1A\u5458",price:29,period:1,name:"vip2",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 100 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:3,label:"\u9EC4\u91D1\u4F1A\u5458",price:39,period:1,name:"vip3",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 200 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:4,label:"\u94BB\u77F3\u4F1A\u5458",price:49,period:1,name:"vip4",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 320 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:5,label:"\u8D85\u7EA7\u7BA1\u7406\u5458",price:1e4,period:1e4,name:"vip5",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`}],A=[{value:1,label:"1 \u4E2A\u6708"},{value:3,label:"3 \u4E2A\u6708"},{value:6,label:"6 \u4E2A\u6708"},{value:12,label:"12 \u4E2A\u6708"},{value:24,label:"24 \u4E2A\u6708"}],P=[{value:"get",label:"get"},{value:"post",label:"post"}],c=[{value:"data",label:"data"},{value:"params",label:"params"},{value:"form",label:"form"},{value:"formData",label:"formData"}],h=[{value:0,label:"\u666E\u901A",color:"green"},{value:1,label:"\u91CD\u8981",color:"orange"},{value:2,label:"\u6838\u5FC3",color:"red"}],M={labelCol:{span:4},wrapperCol:{span:16}},m={wrapperCol:{offset:4,span:16}},b={sm:12,xs:12},T={rowKey:"name",pagination:!1,scroll:{x:!0,y:!0},size:"small"}},4128:function(ee,x,t){t.d(x,{BU:function(){return ae},VW:function(){return R},apiList:function(){return G},rf:function(){return W},IR:function(){return j},Pu:function(){return de},Rt:function(){return K},eA:function(){return g}});var e={};t.r(e),t.d(e,{addRouter:function(){return _},addUser:function(){return X},allUser:function(){return ne},deleteRouter:function(){return te},deleteUser:function(){return Q},editRouter:function(){return ue},editUser:function(){return k},getAuthedRouter:function(){return Y},getRouter:function(){return oe},login:function(){return z},logout:function(){return N},projectList:function(){return L},setAuthedRouter:function(){return se}});var o=t(24246),A=t(34189),P=t(65292),c=t(56591),h=t(71090),M=t(4645);const m=async a=>(await(0,h._vH)(),{code:200,message:"success\uFF01",result:{}}),b=(a,n=10)=>[...Array(n)].map((s,u)=>({id:uuidv4(),...a})),T={name:"demo",email:"demo@gmail.com",password:"123456",role:2,token:(0,h.k$y)(),projectName:"demo",projectId:"demo-1",description:"demo",active:1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy",avatar:"https://pic2.zhimg.com/a2e68681a006bd3e60fd5b22d51cb629_im.jpg",github:""},F={path:"",projectId:"demo-1",parentId:"",name:"",icon:"",redirect:"",hideMenu:!1,denied:!1,component:"",isRoot:!1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy"},E=[{parentId:"",path:"/",name:"\u9996\u9875",icon:"HomeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620635990643},{parentId:"",path:"/user",name:"\u767B\u5F55\u6CE8\u518C",icon:"TeamOutlined",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636017796},{parentId:"",path:"/404",name:"404",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636048186},{parentId:"/user",path:"/user/signin",name:"\u767B\u5F55",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636070080},{parentId:"/user",path:"/user/signup",name:"\u6CE8\u518C",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636092363},{parentId:"/user",path:"/user/verifyEmail",name:"\u9A8C\u8BC1\u90AE\u7BB1",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636109839},{parentId:"/user",path:"/user/setNewPwd",name:"\u91CD\u7F6E\u5BC6\u7801",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636127522},{parentId:"/",path:"/layout",name:"\u6846\u67B6\u914D\u7F6E",icon:"LayoutOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636154481,updater:"zys",updatetime:1624872133851},{parentId:"/",path:"/projects",name:"\u9879\u76EE\u7BA1\u7406",icon:"ConsoleSqlOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636177773},{parentId:"/",path:"/projects/add",name:"\u6DFB\u52A0\u9879\u76EE",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636207200},{parentId:"/",path:"/projects/edit/:id",name:"\u7F16\u8F91\u9879\u76EE",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636226823},{parentId:"/",path:"/projects/router/:id",name:"\u9879\u76EE\u8DEF\u7531\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636245820},{parentId:"/",path:"/users",name:"\u7528\u6237\u7BA1\u7406",icon:"UsergroupAddOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636267387},{parentId:"/",path:"/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636289415},{parentId:"/",path:"/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636307487},{parentId:"/",path:"/users/auth/:id",name:"\u8DEF\u7531\u6743\u9650\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636329861},{parentId:"/",path:"/profile",name:"\u4E2A\u4EBA\u4E2D\u5FC3",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636349501},{parentId:"/",path:"/dashboard",name:"\u4EEA\u8868\u76D8",icon:"DashboardOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636376269},{parentId:"/",path:"/pages",name:"\u9875\u9762\u8BBE\u8BA1",icon:"DesktopOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636398998},{parentId:"/",path:"/apis",name:"\u63A5\u53E3\u7BA1\u7406",icon:"ClusterOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636421223},{parentId:"/",path:"/docs",name:"\u6587\u6863\u7BA1\u7406",icon:"FileMarkdownOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636442351},{parentId:"/",path:"/i18n",name:"\u8BED\u8A00\u7BA1\u7406",icon:"GlobalOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636467249},{parentId:"/",path:"/apis/add",name:"\u6DFB\u52A0\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690561030},{parentId:"/",path:"/apis/edit/:id",name:"\u7F16\u8F91\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690599153},{parentId:"/",path:"/apis/test/:id",name:"\u63A5\u53E3\u6D4B\u8BD5",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690623384},{parentId:"/",path:"/suspense",name:"suspense",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690670034},{parentId:"/",path:"/canvas",name:"\u56FE\u5F62\u7ED8\u5236",icon:"AreaChartOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690702896},{parentId:"/",path:"/editor",name:"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",icon:"EditOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690737041},{parentId:"/",path:"/low-code",name:"\u4F4E\u4EE3\u7801",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882549254},{parentId:"/low-code",path:"/low-code/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882672292},{parentId:"/low-code",path:"/low-code/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882700289},{parentId:"/low-code",path:"/low-code/users",name:"\u4E1A\u52A1\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882742565},{parentId:"/low-code",path:"/low-code/ui",name:"UI\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882785052},{parentId:"/low-code",path:"/low-code/dom",name:"\u539F\u751Fdom",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882800008}],w=((a,n=10)=>[...Array(n)].map((s,u)=>({...a,_id:(0,h.k$y)(),name:`${a.name}-${u+1}`,email:`${a.name}${u+1}@gmail.com`,role:(0,h.hd2)(5),active:(0,h.yZP)()})))(T,500),V=E.map(a=>({...F,...a,_id:(0,h.k$y)()})),d=(0,h.MTn)();d.setState({users:w,routers:V});const L=[{_id:(0,h.k$y)(),name:"demo1"},{_id:(0,h.k$y)(),name:"demo2"}],z=async a=>{const n=await m(),u=d.getState("users").find(i=>a.name===i.name&&a.password===i.password);return{...n,result:u}},N=async a=>({...await m(),result:!0}),X=async a=>{const n=await m(),s={...a,_id:(0,h.k$y)()},u=d.getState("users");return u.push(s),d.setState({users:u}),{...n,result:s}},k=async a=>{const n=await m(),s=d.getState("users");let u=s.find(i=>i._id===a._id);return u&&(u={...u,...a},d.setState({users:s})),{...n,result:a}},Q=async({ids:a})=>{const n=await m(),s=d.getState("users");return(a||[]).map(u=>{const i=s.findIndex(B=>B._id===u);i>-1&&s.splice(i,1)}),d.setState({users:s}),n},ne=async({active:a,current:n,size:s,name:u,role:i})=>{const B=await m(),C=d.getState("users"),O=s*(n-1);let D=[];if(a!=null?D=C.filter(l=>l.active==a):D=[...C],i!=null&&(D=D.filter(l=>l.role===i)),u){const l=new RegExp(u,"gi");D=D.filter(I=>I.name.toString().match(l))}const r=D.slice(O,O+s);return{...B,result:{current:n,size:s,total:D.length,list:r}}},oe=async()=>{const a=await m(),n=d.getState("routers");return{...a,result:n}},_=async a=>{const n=await m(),s=d.getState("routers"),u={...a,_id:(0,h.k$y)()};return s.push(u),d.setState({routers:s}),{...n,result:u}},ue=async a=>{const n=await m(),s=d.getState("routers");let u=s.find(i=>i._id===a._id);return u&&(u={...u,...a},d.setState({routers:s})),{...n,result:a}},te=async a=>{const n=await m(),s=d.getState("routers"),u=s.findIndex(i=>i._id===a._id);return u>-1&&(s.splice(u,1),d.setState({routers:s})),n},Y=async()=>{const a=await m(),n=d.getState("authedRouter")||[];return{...a,result:n}},se=async a=>{const n=await m(),s=d.getState("authedRouter")||[],u=[...new Set([...s,...a?.authKeys??[]])];return d.setState({authedRouter:u}),{...n,result:u}};var f=t(32350);const p=()=>({render:a=>(0,o.jsx)(f.Z,{children:a})});var y=(a,n,s=p())=>a.map(u=>({...s,...u,...n?.find(({dataIndex:i})=>i===u.dataIndex)}));const S=({index:a,style:n,item:s,isItemLoaded:u})=>{let i;return u(a)?i=s.name:i="Loading...",(0,o.jsx)("div",{style:{...n,borderBottom:"1px solid #333"},children:(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:i})})},G=e,de=y,ae=S,g=[{key:1,value:"\u5DF2\u6FC0\u6D3B"},{key:0,value:"\u672A\u6FC0\u6D3B"}],j=[{type:"input",name:"name",label:"\u7528\u6237\u540D",props:{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0,style:{width:"120px"}}},{type:"select",name:"role",label:"\u7B49\u7EA7",props:{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:"100px"},options:M.Uy}}],R=(a,n)=>[{key:"add",type:"primary",label:"\u65B0\u589E",action:a.handleAdd},{key:"export",type:"default",label:"\u5BFC\u51FA",action:a.handleExport},{key:"handleDelete",type:"default",label:"\u6279\u91CF\u5220\u9664",action:a.handleDelete,disabled:n}],Z=[{key:"handleCheck",type:"link",label:"\u8BBE\u7F6E"},{key:"handleEdit",type:"link",label:"\u7F16\u8F91"},{key:"handleDelete",type:"link",label:"\u5220\u9664"}],K=[{dataIndex:"name",title:"\u7528\u6237\u540D"},{dataIndex:"email",title:"\u90AE\u7BB1"},{dataIndex:"active",title:"\u72B6\u6001"},{dataIndex:"github",title:"\u7ED1\u5B9AGitHub"},{dataIndex:"role",title:"\u7B49\u7EA7"},{dataIndex:"updatetime",title:"\u66F4\u65B0\u65F6\u95F4"},{dataIndex:"updater",title:"\u66F4\u65B0\u4EBA"},{dataIndex:"action",title:"\u64CD\u4F5C",align:"center"}],W=a=>[{dataIndex:"name",render:(n,s)=>(0,o.jsx)("span",{className:"link",onClick:()=>a.handleCheck(s),children:n})},{dataIndex:"email",render:n=>n.replace(/\S+(@\S+)/,"*****$1")},{dataIndex:"active",render:n=>n?(0,o.jsx)(A.Z,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,o.jsx)(A.Z,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"github",render:n=>n?(0,o.jsx)(A.Z,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,o.jsx)(A.Z,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"role",render:(n,s)=>M.Uy.find(u=>u.value===n)?.label??"-"},{dataIndex:"updatetime",render:(n,s)=>{const u=n||s.createtime||s.signuptime||+new Date;return(0,h.mrB)(new Date(u))}},{dataIndex:"updater",render:(n,s)=>n||s.creator},{dataIndex:"action",render:(n,s)=>{const i=Object.keys(a).map(B=>({...Z.find(C=>C.key===B),action:a[B]}));return(0,o.jsx)(P.Z,{children:i.map(({key:B,action:C,type:O,label:D})=>(0,o.jsx)(c.ZP,{type:O,size:"small",disabled:!1,danger:B==="handleDelete",onClick:()=>C(s),children:D},B))})}}]}}]);

(self.webpackChunk=self.webpackChunk||[]).push([[533],{48839:function(U,i,t){var e=t(24246),a=t(64973),E=t(74335);const u=({children:o,...d})=>(0,e.jsx)(E.mH,{...d,children:(0,e.jsx)(a.Z,{placement:"topLeft",title:o,children:o})});i.Z=u},16937:function(U,i,t){var e=t(24246),a=t(74335);const E=({style:u,children:o,...d})=>(0,e.jsx)(a.s_,{style:{background:"var(--panelBgColor)",...u},...d,children:o});i.Z=E},45485:function(U,i,t){var e=t(24246),a=t(88749),E=t(56591),u=t(74335),o=t(71090);const d={gutter:[12,12],style:{}},p={xl:2,lg:3,md:3,sm:4,xs:6},_=h=>{const{submit:B,loading:c,children:m,handler:I,initialValues:P,...O}=h,[C]=a.Z.useForm();return(0,e.jsx)("div",{className:"sm-form-style",...O,children:(0,e.jsx)(a.Z,{layout:"inline",form:C,initialValues:P,onFinish:f=>B((0,o.yfi)(f)),style:{width:"100%"},children:(0,e.jsxs)(u.rj,{rowProps:d,colProps:p,children:[(0,e.jsx)("div",{itemprops:{style:{flex:"1 0 auto"},xs:12},children:I}),m,(0,e.jsxs)("div",{itemprops:{style:{maxWidth:"176px"}},style:{float:"right"},children:[(0,e.jsx)(E.ZP,{loading:c,type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(E.ZP,{style:{marginLeft:"12px"},onClick:()=>C.resetFields(),children:"\u91CD\u7F6E"})]})]})})})};i.Z=_},61549:function(U,i,t){var e=t(27378),a=t(18124);const E=(u,o=null,d,p=null)=>{const[_,h]=(0,a.r5)({}),B=(0,e.useCallback)(m=>u&&h({res:u({...p,...m})},d),[]);(0,e.useEffect)(()=>{B({...o})},[]);const{res:c}=_;return[{pending:c?.pending,data:c?.result},B]};i.Z=E},99697:function(U,i,t){var e=t(27378),a=t(61549);const E=(u,o=null,d,p=null)=>{const{current:_,size:h,...B}=o||{},c=(0,e.useRef)(B||{}),m=(0,e.useRef)({current:_||1,size:h||10}),[I,P]=(0,a.Z)(u,{...m.current,...c.current},d,p);return[I,s=>{const{current:n,size:l,...r}=s||{};m.current={current:n??m.current.current,size:l??m.current.size},c.current={...c.current,...r},P({...m.current,...c.current})},(s,n)=>{m.current={current:s,size:n},P({...m.current,...c.current})},s=>{c.current=s,m.current={...m.current,current:1},P({...m.current,...c.current})}]};i.Z=E},71376:function(U,i,t){t.r(i);var e=t(24246),a=t(27378),E=t(59447),u=t(64973),o=t(56591),d=t(6679),p=t(25384),_=t(29711),h=t(88749),B=t(48535),c=t(19579),m=t(16864),I=t(27985),P=t(75838),O=t(74335),C=t(71090),f=t(99697),s=t(45485),n=t(16937),l=t(81097),r=t(79442);const{listMessageFn:D,deleteMessageFn:L,readMessageFn:T}=r.default,g=[{label:"\u672A\u8BFB",value:0},{label:"\u5DF2\u8BFB",value:1}],R=({handleAudit:y,handleDelete:W},M,x)=>[{title:"\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u4E3B\u9898",dataIndex:"title",ellipsis:!0},{title:"\u5185\u5BB9",dataIndex:"context",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:Z=>(0,e.jsx)(E.Z,{color:Z?"blue":"yellow",children:Z?"\u5DF2\u8BFB":"\u672A\u8BFB"})},...M?[{title:"\u5DF2\u8BFB\u7528\u6237",dataIndex:"reader",ellipsis:!0},{title:"\u63A5\u6536\u7528\u6237",dataIndex:"receiver",ellipsis:!0}]:[],{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(Z,j)=>{const b=Z||j.createtime||+new Date,$=(0,C.mrB)(new Date(b));return(0,e.jsx)(u.Z,{title:$,children:$})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(Z,j)=>Z||j.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",fixed:"right",render:(Z,j)=>(0,e.jsxs)(e.Fragment,{children:[x?null:(0,e.jsx)(o.ZP,{type:"link",size:"small",disabled:j.status,onClick:()=>y(j),children:"\u6807\u8BB0\u4E3A\u5DF2\u8BFB"}),M?(0,e.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>W(j),danger:!0,children:"\u5220\u9664"}):null]})}],K=y=>{const M=(l.xZ.getState()||{}).role===5,[x,Z]=(0,a.useState)([]),[j,b]=(0,a.useState)(0),$=y.params,[H,J,G,Y]=(0,f.Z)(D,{current:$?.current,size:$?.size},null,{status:j}),Q=A=>{const v=A?[A]:x,N=v.map(X=>X._id),V=v.length>1?`(\u5171 ${v.length} \u9879)`:"";d.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${V}`,icon:(0,e.jsx)(m.Z,{}),content:`label: ${v.map(X=>X.title)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:X,message:k}=await L({ids:N});X===200&&(C.ywV.success(k),Z([]),J({current:1}))},onCancel(){}})},F=async A=>{const N=(A?[A]:x).map(k=>k._id),{code:V,message:X}=await T({ids:N});V===200&&(Z([]),J({current:1}),l.Ou.setState(k=>k-N.length))},w=A=>{const{value:v}=A.target;b(v),J({current:1,status:v})},q=j&&!M?null:{selectedRowKeys:x.map(A=>A._id),onChange:(A,v)=>{Z(v)},getCheckboxProps:A=>({}),columnWidth:"30px",fixed:!0};let z=R({handleDelete:Q,handleAudit:F},M,j);z=j&&!M?z.slice(0,-1):z;const{pending:S,data:se}=H,{total:ue,current:ee,size:te,list:ae}=se||{},re={onShowSizeChange:(A,v)=>G(A,v),onChange:(A,v)=>G(A,v),showSizeChanger:!0,showQuickJumper:!0,total:ue||1,current:ee||1,pageSize:te||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(O.X2,{children:[(0,e.jsx)(O.JX,{children:(0,e.jsx)(n.Z,{children:(0,e.jsx)(s.Z,{submit:Y,loading:S,handler:(0,e.jsxs)(p.Z,{size:"small",children:[(0,e.jsx)(_.ZP.Group,{optionType:"button",buttonStyle:"solid",options:g,onChange:w,value:j}),(0,e.jsxs)(e.Fragment,{children:[j?null:(0,e.jsx)(o.ZP,{loading:S,disabled:!x.length,onClick:()=>F(),type:"primary",icon:(0,e.jsx)(I.Z,{}),children:"\u6279\u91CF\u6807\u8BB0"}),M?(0,e.jsx)(o.ZP,{loading:S,disabled:!x.length,onClick:()=>Q(),icon:(0,e.jsx)(P.Z,{}),children:"\u6279\u91CF\u5220\u9664"}):null]})]}),children:(0,e.jsx)(h.Z.Item,{name:"title",label:"\u4E3B\u9898",children:(0,e.jsx)(B.default,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(O.JX,{children:(0,e.jsx)(n.Z,{children:(0,e.jsx)(c.Z,{pagination:re,rowSelection:q,columns:z,dataSource:ae??[],loading:S,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=K},50552:function(U,i,t){t.r(i);var e=t(24246),a=t(27378),E=t(6679),u=t(56591),o=t(74335),d=t(71090),p=t(18935),_=t(81097),h=t(79442),B=t(51642);const c=m=>{const I=_.xZ.getState()||{},P=async({type:O,label:C})=>{const{payCount:f}=I??{},s=f?`\u60A8\u8FD8\u5269\u4F59 ${f} \u6B21\u804A\u5929\u673A\u4F1A\uFF0C\u5F00\u901A\u65B0\u4F1A\u5458\u540E\u4F1A\u5C06\u5269\u4F59\u6B21\u6570\u7D2F\u52A0\u81F3\u65B0\u4F1A\u5458\u3002`:"";E.Z.confirm({title:"\u8BA2\u5355\u786E\u8BA4",content:`${s}\u786E\u5B9A\u5F00\u901A ${C}\u4F1A\u5458 \u5417\uFF1F`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:n,message:l,info:r}=await h.default.addPayerFn({type:O});n===200&&(d.ywV.success(l),m.router.push({path:"/payer/count/pay",state:{info:r}}))}})};return(0,e.jsx)("div",{children:(0,e.jsx)(o.X2,{gutter:20,children:p.QN.map(({type:O,label:C,price:f,period:s,count:n,description:l})=>(0,e.jsx)(o.JX,{span:4,xs:12,children:(0,e.jsxs)("div",{className:"count-card",children:[(0,e.jsx)("h4",{className:"order-title",children:C}),(0,e.jsxs)("p",{className:"order-info",children:["\u6709\u6548\u671F ",s," \u4E2A\u6708"]}),(0,e.jsxs)("p",{className:"order-info",children:["\u5BF9\u8BDD\u6B21\u6570 ",n," \u6B21"]}),l.split(`

`).map((r,D)=>(0,e.jsx)("p",{className:"order-desc",children:r},`des-${D}`)),(0,e.jsxs)("p",{className:"order-cost",children:[(0,e.jsx)("span",{children:"\u6D88\u8D39\uFF1A"}),(0,e.jsxs)("span",{className:"cost-num",children:["\xA5 ",f]})]}),(0,e.jsx)(u.ZP,{type:"primary",style:{width:"120px",paddingBottom:"15px"},onClick:r=>P({type:O,label:C}),children:"\u5F00\u901A"})]})},O))})})};i.default=c},72390:function(U,i,t){t.r(i);var e=t(24246),a=t(27378),E=t(59447),u=t(64973),o=t(56591),d=t(6679),p=t(25384),_=t(88749),h=t(48535),B=t(19579),c=t(16864),m=t(74335),I=t(71090),P=t(99697),O=t(45485),C=t(79442),f=t(16937),s=t(81097);const{listPayerFn:n,deletePayerFn:l,auditPayerFn:r,cancelPayerFn:D}=C.default,L=({handleDelete:g,handleAudit:R,handlePay:K,handleCancel:y},W)=>[{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",ellipsis:!0},{title:"\u8BA2\u5355\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u540D\u79F0",dataIndex:"label",ellipsis:!0},{title:"\u6D88\u8D39",dataIndex:"price",ellipsis:!0,render:M=>`${M} \u5143`},{title:"\u6709\u6548\u671F",dataIndex:"period",ellipsis:!0,render:M=>`${M} \u4E2A\u6708`},{title:"\u6B21\u6570",dataIndex:"count",ellipsis:!0,render:M=>`${M} \u6B21`},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:(M,x)=>(0,e.jsx)(E.Z,{color:x.deleted?"yellow":M?"green":"red",children:x.deleted?"\u5DF2\u5931\u6548":M?"\u5DF2\u5BA1\u6838":"\u672A\u5BA1\u6838"})},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(M,x)=>{const Z=M||x.createtime||+new Date,j=(0,I.mrB)(new Date(Z));return(0,e.jsx)(u.Z,{title:j,children:j})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(M,x)=>M||x.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",render:(M,x)=>W?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.ZP,{type:"link",size:"small",disabled:!!x.status||x.deleted,onClick:()=>R(x),children:"\u5BA1\u6838"}),(0,e.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>g(x),danger:!0,children:"\u5220\u9664"})]}):x.status?(0,e.jsx)(o.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u652F\u4ED8"}):x.deleted?(0,e.jsx)(o.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u5931\u6548"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>y(x),children:"\u53D6\u6D88\u8BA2\u5355"}),(0,e.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>K(x),children:"\u53BB\u652F\u4ED8"})]})}],T=g=>{const R=s.xZ.getState()||{},{role:K,payCount:y}=R,W=g.history.getState()?.backState,M=g.history.getState()?.item,[x,Z]=(0,a.useState)([]),j=g.params,[b,$,H,J]=(0,P.Z)(n,{current:j?.current,size:j?.size}),G=A=>{g.router.push({path:"/payer/count/pay",state:{info:A}})},Y=A=>{g.router.push({path:`./edit/${A._id}`,state:{item:A,backState:{path:g.path,params:{current:ee,size:te},state:{item:M,backState:W}}}})},Q=async()=>{g.router.push("./add")},z=L({handlePay:G,handleDelete:A=>{const v=A?[A]:x,N=v.length>1?`(\u5171 ${v.length} \u9879)`:"";d.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${N}`,icon:(0,e.jsx)(c.Z,{}),content:`orderNo: ${v.map(V=>V.orderNo)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:V,message:X}=await l({items:v});V===200&&(I.ywV.success(X),Z([]),$({current:1}))},onCancel(){}})},handleAudit:async A=>{const{code:v,message:N}=await r(A);v===200&&(I.ywV.success(N),$({current:1}))},handleCancel:async A=>{const{code:v,message:N}=await D(A);v===200&&(I.ywV.success(N),$({current:1}))}},K===5),{pending:S,data:se}=b,{total:ue,current:ee,size:te,list:ae}=se||{},re={onShowSizeChange:(A,v)=>H(A,v),onChange:(A,v)=>H(A,v),showSizeChanger:!0,showQuickJumper:!0,total:ue||1,current:ee||1,pageSize:te||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(m.X2,{children:[(0,e.jsx)(m.JX,{children:(0,e.jsx)(f.Z,{children:(0,e.jsx)(O.Z,{submit:J,loading:S,handler:(0,e.jsxs)(p.Z,{size:"small",children:[y?(0,e.jsx)(o.ZP,{loading:S,onClick:()=>g.router.push("https://ihuxy.com/chatbot"),type:"primary",children:"\u53BB\u804A\u5929"}):(0,e.jsx)(o.ZP,{loading:S,onClick:()=>g.router.push("/payer/count/member"),type:"primary",children:"\u5F00\u901A\u4F1A\u5458"}),(0,e.jsx)(o.ZP,{loading:S,onClick:()=>g.router.push("https://ihuxy.com/chatbot"),children:"\u53BB\u8BD5\u7528"})]}),children:(0,e.jsx)(_.Z.Item,{name:"order",label:"\u8BA2\u5355\u53F7",children:(0,e.jsx)(h.default,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(m.JX,{children:(0,e.jsx)(f.Z,{children:(0,e.jsx)(B.Z,{pagination:re,columns:z,dataSource:ae??[],loading:S,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=T},95727:function(U,i,t){t.d(i,{B:function(){return o}});var e=t(24246),a=t(48839);const E=()=>({render:d=>(0,e.jsx)(a.Z,{children:d})}),u=(d,p,_=E())=>d.map(h=>({..._,...h,...p?.find(({dataIndex:B})=>B===h.dataIndex)}));i.Z=u;const o=({index:d,style:p,item:_,isItemLoaded:h})=>{let B;return h(d)?B=_.name:B="Loading...",(0,e.jsx)("div",{style:{...p,borderBottom:"1px solid #333"},children:(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:B})})}},89591:function(U,i,t){t.r(i);var e=t(24246),a=t(27378),E=t(6679),u=t(16864),o=t(76036),d=t(29029),p=t(74335),_=t(71090),h=t(99697),B=t(93835),c=t(38154),m=t(85289);const I=P=>{const[O,C]=(0,a.useState)(P.type??"table"),[f,s]=(0,a.useState)(1),[n,l]=(0,a.useState)(""),[r,D]=(0,a.useState)([]),[L,T,g,R]=(0,h.Z)(c.apiList.allUser,{current:1,size:10,active:f}),{current:K,size:y}=L.data||{},W=F=>{C(F),T({current:1,size:10,active:f})},M=F=>{s(F),T({current:1,size:10,active:F})},x=F=>{l(F),R(F)},Z=F=>{P.router.push({path:`./auth/${F._id}`,state:{item:F,backState:{path:P.path,params:{current:K,size:y}}}})},j=F=>{P.router.push({path:`./edit/${F._id}`,state:{item:F,backState:{path:P.path,params:{current:K,size:y}}}})},b=F=>{const w=F?[F]:r,q=w.map(z=>z._id),ne=w.length>1?`(\u5171 ${w.length} \u9879)`:"";E.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${ne}`,icon:(0,e.jsx)(u.Z,{}),content:`name: ${w.map(z=>z.name)}`,okText:"\u5220\u9664",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:z,message:S}=await c.apiList.deleteUser({ids:q});z===200&&(_.ywV.success(S),D([]),T({current:1}))},onCancel(){}})},$=()=>{P.router.push("./add")},H=async()=>{const{code:F,message:w}=await c.apiList.export();F===200&&_.ywV.success(w)},J={selectedRowKeys:r.map(F=>F._id),onChange:(F,w)=>{D(w)}},G={handleCheck:Z,handleEdit:j,handleDelete:b},Y={handleAdd:$,handleExport:H,handleDelete:b},Q={RenderItem:c.BU,columns:(0,c.Pu)(c.Rt,(0,c.rf)(G)),result:L,pageChange:g,searchList:x,rowSelection:J,formList:c.IR,listType:O,actionList:(0,c.VW)(Y,!r.length),paramsKey:JSON.stringify({...n,active:f})};return(0,e.jsxs)("div",{className:"config-list",children:[(0,e.jsx)(p.GK,{tabs:c.eA,switchTab:M}),(0,e.jsx)(B.Z,{...Q}),(0,e.jsxs)("div",{className:"handle-bar",children:[(0,e.jsx)("span",{className:`link${O==="table"?" active":""}`,onClick:F=>W("table"),children:(0,e.jsx)(o.Z,{})}),(0,e.jsx)("span",{className:`link${O==="list"?" active":""}`,onClick:F=>W("list"),children:(0,e.jsx)(d.Z,{})})]})]})};i.default=I},93733:function(U,i,t){var e=t(24246),a=t(48535),E=t(3196),u=t(29711),o=t(8892),d=t(88749),p=t(25384),_=t(56591),h=t(71090);const B={Input:a.default,Select:E.default,Radio:u.ZP,Checkbox:o.Z},c=m=>{const{submit:I,loading:P,searchFormText:O="\u641C\u7D22",reset:C="\u91CD\u7F6E",formList:f=[],compList:s={}}=m,n={...B,compList:s},[l]=d.Z.useForm();return(0,e.jsxs)(d.Z,{layout:"inline",form:l,initialValues:{},onFinish:r=>I((0,h.yfi)(r)),children:[f.map(r=>{const{type:D,name:L,label:T,props:g,...R}=r,K=typeof D=="string"?n[(0,h.dtG)(D.trim())]:D||(y=>(0,e.jsx)("div",{...y}));return(0,e.jsx)(d.Z.Item,{name:L,label:T,...R,children:(0,e.jsx)(K,{...g})},L)}),(0,e.jsx)(d.Z.Item,{children:(0,e.jsxs)(p.Z,{size:"small",children:[(0,e.jsx)(_.ZP,{loading:P,type:"primary",htmlType:"submit",children:O}),C&&(0,e.jsx)(_.ZP,{onClick:()=>l.resetFields(),children:C})]})})]})};i.Z=c},93835:function(U,i,t){var e=t(24246),a=t(25384),E=t(56591),u=t(74335),o=t(16937),d=t(93733),p=t(55014),_=t(30452),h=t(8511);const B={table:p.Z,list:_.Z,autoSize:h.Z},c=({result:m,actionList:I,formList:P,columns:O,RenderItem:C,searchList:f,pageChange:s,rowSelection:n,paramsKey:l,rowKey:r="_id",listType:D})=>{const L=B[D]??B.table;return(0,e.jsxs)(u.X2,{children:[I?.length||P?.length?(0,e.jsx)(u.JX,{children:(0,e.jsxs)(o.Z,{children:[I?.length?(0,e.jsx)("div",{style:{float:"left"},children:(0,e.jsx)(a.Z,{size:"small",children:I.map(({key:T,type:g,label:R,icon:K,action:y,disabled:W})=>(0,e.jsx)(E.ZP,{loading:m.pending,onClick:M=>y?.(),type:g,icon:K,disabled:W,children:R},T))})}):null,P?.length?(0,e.jsx)("div",{style:{float:"right"},children:(0,e.jsx)(d.Z,{formList:P,submit:f,loading:m.pending})}):null]})}):null,(0,e.jsx)(u.JX,{children:(0,e.jsx)(o.Z,{children:(0,e.jsx)(L,{result:m,columns:O,RenderItem:C,pageChange:s,rowSelection:n,rowKey:r,paramsKey:l})})})]})};i.Z=c},8511:function(U,i,t){var e=t(24246),a=t(70008),E=t(30452);const u=o=>(0,e.jsx)("div",{style:{width:"100%",minHeight:"50vh"},children:(0,e.jsx)(a.ZP,{children:({height:d,width:p})=>(0,e.jsx)(E.Z,{...o,height:d,width:p})})});i.Z=u},30452:function(U,i,t){var e=t(24246),a=t(27378),E=t(3258),u=t(63532);const o=d=>{const{result:p,pageChange:_,RenderItem:h,itemSize:B=45,paramsKey:c,width:m="100%",height:I=600}=d,{pending:P,data:O}=p,{list:C=[],total:f=1,size:s=10,current:n=1}=O||{},l=(y,W)=>{if(P)return;const M=~~((W+1)/s);_?.(M,s)},r=(0,a.useRef)(null);(0,a.useEffect)(()=>{r.current&&(r.current.resetloadMoreItemsCache?.(),r.current._listRef?.scrollTo(0)),D.current={}},[c]);const D=(0,a.useRef)({[n]:C});P||(D.current[n]=C);const L=[];Object.keys(D.current).map(y=>L.push(...D.current[y]));const T=L.length,g=T<f,R=g?T+s:T,K=y=>!g||y<T;return(0,e.jsx)(u.Z,{ref:r,isItemLoaded:K,itemCount:R,loadMoreItems:l,children:({onItemsRendered:y,ref:W})=>(0,e.jsx)(E.t7,{height:I,width:m,className:"virtual-list",ref:W,itemSize:B,itemCount:R,onItemsRendered:y,children:({index:M,style:x})=>typeof h=="function"?h({index:M,style:x,item:L[M],isItemLoaded:K}):`${M}-${L[M].name}`})})};i.Z=o},55014:function(U,i,t){var e=t(24246),a=t(19579);const E=u=>{const{result:o,pageChange:d,columns:p,rowSelection:_,pagination:h,...B}=u,{pending:c,data:m}=o,{total:I,current:P,size:O,list:C}=m||{},f=(l,r)=>{d?.(l,r)},s=_?{columnWidth:"30px",...typeof _=="object"?_:null}:null,n=h===!1?!1:{onShowSizeChange:f,onChange:f,showSizeChanger:!0,showQuickJumper:!0,total:I||1,current:P||1,pageSize:O||10,pageSizeOptions:["10","20","30","40"],size:"small",...typeof h=="object"?h:null};return(0,e.jsx)(a.Z,{pagination:n,rowSelection:s,columns:p,dataSource:C??[],loading:c,size:"small",bordered:!0,scroll:{x:!0},...B})};i.Z=E},51642:function(){var U={}},85289:function(){var U={}},18935:function(U,i,t){t.d(i,{FA:function(){return _},QN:function(){return e},Uy:function(){return a},bK:function(){return p}});const e=[{type:"vip1",label:"\u57FA\u7840\u7248",price:29,period:3,count:800,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

800 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 3 \u4E2A\u6708\u3002`},{type:"vip2",label:"\u767D\u94F6\u7248",price:39,period:6,count:1500,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

1500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 6 \u4E2A\u6708\u3002`},{type:"vip3",label:"\u9EC4\u91D1\u7248",price:69,period:12,count:3e3,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

3000 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 12 \u4E2A\u6708\u3002`}],a=[{value:0,label:"\u666E\u901A\u7528\u6237",price:0,period:0,name:"general",description:"\u6BCF\u5929 2 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002"},{value:1,label:"\u57FA\u7840\u4F1A\u5458",price:19,period:1,name:"vip1",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 50 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:2,label:"\u767D\u94F6\u4F1A\u5458",price:29,period:1,name:"vip2",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 100 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:3,label:"\u9EC4\u91D1\u4F1A\u5458",price:39,period:1,name:"vip3",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 200 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:4,label:"\u94BB\u77F3\u4F1A\u5458",price:49,period:1,name:"vip4",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 320 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:5,label:"\u8D85\u7EA7\u7BA1\u7406\u5458",price:1e4,period:1e4,name:"vip5",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`}],E=[{value:1,label:"1 \u4E2A\u6708"},{value:3,label:"3 \u4E2A\u6708"},{value:6,label:"6 \u4E2A\u6708"},{value:12,label:"12 \u4E2A\u6708"},{value:24,label:"24 \u4E2A\u6708"}],u=[{value:"get",label:"get"},{value:"post",label:"post"}],o=[{value:"data",label:"data"},{value:"params",label:"params"},{value:"form",label:"form"},{value:"formData",label:"formData"}],d=[{value:0,label:"\u666E\u901A",color:"green"},{value:1,label:"\u91CD\u8981",color:"orange"},{value:2,label:"\u6838\u5FC3",color:"red"}],p={labelCol:{span:4},wrapperCol:{span:16}},_={wrapperCol:{offset:4,span:16}},h={sm:12,xs:12},B={rowKey:"name",pagination:!1,scroll:{x:!0,y:!0},size:"small"}},38154:function(U,i,t){t.d(i,{BU:function(){return c},IR:function(){return I},Pu:function(){return B},Rt:function(){return C},VW:function(){return P},apiList:function(){return h},eA:function(){return m},rf:function(){return f}});var e=t(24246),a=t(59447),E=t(25384),u=t(56591),o=t(71090),d=t(18935),p=t(29205),_=t(95727);const h=p,B=_.Z,c=_.B,m=[{key:1,value:"\u5DF2\u6FC0\u6D3B"},{key:0,value:"\u672A\u6FC0\u6D3B"}],I=[{type:"input",name:"name",label:"\u7528\u6237\u540D",props:{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0,style:{width:"120px"}}},{type:"select",name:"role",label:"\u7B49\u7EA7",props:{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:"100px"},options:d.Uy}}],P=(s,n)=>[{key:"add",type:"primary",label:"\u65B0\u589E",action:s.handleAdd},{key:"export",type:"default",label:"\u5BFC\u51FA",action:s.handleExport},{key:"handleDelete",type:"default",label:"\u6279\u91CF\u5220\u9664",action:s.handleDelete,disabled:n}],O=[{key:"handleCheck",type:"link",label:"\u8BBE\u7F6E"},{key:"handleEdit",type:"link",label:"\u7F16\u8F91"},{key:"handleDelete",type:"link",label:"\u5220\u9664"}],C=[{dataIndex:"name",title:"\u7528\u6237\u540D"},{dataIndex:"email",title:"\u90AE\u7BB1"},{dataIndex:"active",title:"\u72B6\u6001"},{dataIndex:"github",title:"\u7ED1\u5B9AGitHub"},{dataIndex:"role",title:"\u7B49\u7EA7"},{dataIndex:"updatetime",title:"\u66F4\u65B0\u65F6\u95F4"},{dataIndex:"updater",title:"\u66F4\u65B0\u4EBA"},{dataIndex:"action",title:"\u64CD\u4F5C",align:"center"}],f=s=>[{dataIndex:"name",render:(n,l)=>(0,e.jsx)("span",{className:"link",onClick:()=>s.handleCheck(l),children:n})},{dataIndex:"email",render:n=>n.replace(/\S+(@\S+)/,"*****$1")},{dataIndex:"active",render:n=>n?(0,e.jsx)(a.Z,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,e.jsx)(a.Z,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"github",render:n=>n?(0,e.jsx)(a.Z,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,e.jsx)(a.Z,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"role",render:(n,l)=>d.Uy.find(r=>r.value===n)?.label??"-"},{dataIndex:"updatetime",render:(n,l)=>{const r=n||l.createtime||l.signuptime||+new Date;return(0,o.mrB)(new Date(r))}},{dataIndex:"updater",render:(n,l)=>n||l.creator},{dataIndex:"action",render:(n,l)=>{const D=Object.keys(s).map(L=>({...O.find(T=>T.key===L),action:s[L]}));return(0,e.jsx)(E.Z,{children:D.map(({key:L,action:T,type:g,label:R})=>(0,e.jsx)(u.ZP,{type:g,size:"small",disabled:!1,danger:L==="handleDelete",onClick:()=>T(l),children:R},L))})}}]},61423:function(U,i,t){t.d(i,{Mo:function(){return p},rC:function(){return d}});var e=t(71090);const a={name:"demo",email:"demo@gmail.com",password:"123456",role:2,token:(0,e.k$y)(),projectName:"demo",projectId:"demo-1",description:"demo",active:1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy",avatar:"https://pic2.zhimg.com/a2e68681a006bd3e60fd5b22d51cb629_im.jpg",github:""},E={path:"",projectId:"demo-1",parentId:"",name:"",icon:"",redirect:"",hideMenu:!1,denied:!1,component:"",isRoot:!1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy"},u=[{parentId:"",path:"/",name:"\u9996\u9875",icon:"HomeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620635990643},{parentId:"",path:"/user",name:"\u767B\u5F55\u6CE8\u518C",icon:"TeamOutlined",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636017796},{parentId:"",path:"/404",name:"404",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636048186},{parentId:"/user",path:"/user/signin",name:"\u767B\u5F55",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636070080},{parentId:"/user",path:"/user/signup",name:"\u6CE8\u518C",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636092363},{parentId:"/user",path:"/user/verifyEmail",name:"\u9A8C\u8BC1\u90AE\u7BB1",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636109839},{parentId:"/user",path:"/user/setNewPwd",name:"\u91CD\u7F6E\u5BC6\u7801",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636127522},{parentId:"/",path:"/layout",name:"\u6846\u67B6\u914D\u7F6E",icon:"LayoutOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636154481,updater:"zys",updatetime:1624872133851},{parentId:"/",path:"/projects",name:"\u9879\u76EE\u7BA1\u7406",icon:"ConsoleSqlOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636177773},{parentId:"/",path:"/projects/add",name:"\u6DFB\u52A0\u9879\u76EE",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636207200},{parentId:"/",path:"/projects/edit/:id",name:"\u7F16\u8F91\u9879\u76EE",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636226823},{parentId:"/",path:"/projects/router/:id",name:"\u9879\u76EE\u8DEF\u7531\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636245820},{parentId:"/",path:"/users",name:"\u7528\u6237\u7BA1\u7406",icon:"UsergroupAddOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636267387},{parentId:"/",path:"/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636289415},{parentId:"/",path:"/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636307487},{parentId:"/",path:"/users/auth/:id",name:"\u8DEF\u7531\u6743\u9650\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636329861},{parentId:"/",path:"/profile",name:"\u4E2A\u4EBA\u4E2D\u5FC3",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636349501},{parentId:"/",path:"/dashboard",name:"\u4EEA\u8868\u76D8",icon:"DashboardOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636376269},{parentId:"/",path:"/pages",name:"\u9875\u9762\u8BBE\u8BA1",icon:"DesktopOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636398998},{parentId:"/",path:"/apis",name:"\u63A5\u53E3\u7BA1\u7406",icon:"ClusterOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636421223},{parentId:"/",path:"/docs",name:"\u6587\u6863\u7BA1\u7406",icon:"FileMarkdownOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636442351},{parentId:"/",path:"/i18n",name:"\u8BED\u8A00\u7BA1\u7406",icon:"GlobalOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636467249},{parentId:"/",path:"/apis/add",name:"\u6DFB\u52A0\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690561030},{parentId:"/",path:"/apis/edit/:id",name:"\u7F16\u8F91\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690599153},{parentId:"/",path:"/apis/test/:id",name:"\u63A5\u53E3\u6D4B\u8BD5",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690623384},{parentId:"/",path:"/suspense",name:"suspense",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690670034},{parentId:"/",path:"/canvas",name:"\u56FE\u5F62\u7ED8\u5236",icon:"AreaChartOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690702896},{parentId:"/",path:"/editor",name:"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",icon:"EditOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690737041},{parentId:"/",path:"/low-code",name:"\u4F4E\u4EE3\u7801",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882549254},{parentId:"/low-code",path:"/low-code/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882672292},{parentId:"/low-code",path:"/low-code/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882700289},{parentId:"/low-code",path:"/low-code/users",name:"\u4E1A\u52A1\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882742565},{parentId:"/low-code",path:"/low-code/ui",name:"UI\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882785052},{parentId:"/low-code",path:"/low-code/dom",name:"\u539F\u751Fdom",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882800008}],d=((_,h=10)=>[...Array(h)].map((B,c)=>({..._,_id:(0,e.k$y)(),name:`${_.name}-${c+1}`,email:`${_.name}${c+1}@gmail.com`,role:(0,e.hd2)(5),active:(0,e.yZP)()})))(a,500),p=u.map(_=>({...E,..._,_id:(0,e.k$y)()}))},29205:function(U,i,t){t.r(i),t.d(i,{addRouter:function(){return I},addUser:function(){return _},allUser:function(){return c},deleteRouter:function(){return O},deleteUser:function(){return B},editRouter:function(){return P},editUser:function(){return h},getAuthedRouter:function(){return C},getRouter:function(){return m},login:function(){return d},logout:function(){return p},projectList:function(){return o},setAuthedRouter:function(){return f}});var e=t(71090),a=t(79835),E=t(61423);const u=(0,e.MTn)();u.setState({users:E.rC,routers:E.Mo});const o=[{_id:(0,e.k$y)(),name:"demo1"},{_id:(0,e.k$y)(),name:"demo2"}],d=async s=>{const n=await(0,a.e)(),r=u.getState("users").find(D=>s.name===D.name&&s.password===D.password);return{...n,result:r}},p=async s=>({...await(0,a.e)(),result:!0}),_=async s=>{const n=await(0,a.e)(),l={...s,_id:(0,e.k$y)()},r=u.getState("users");return r.push(l),u.setState({users:r}),{...n,result:l}},h=async s=>{const n=await(0,a.e)(),l=u.getState("users");let r=l.find(D=>D._id===s._id);return r&&(r={...r,...s},u.setState({users:l})),{...n,result:s}},B=async({ids:s})=>{const n=await(0,a.e)(),l=u.getState("users");return(s||[]).map(r=>{const D=l.findIndex(L=>L._id===r);D>-1&&l.splice(D,1)}),u.setState({users:l}),n},c=async({active:s,current:n,size:l,name:r,role:D})=>{const L=await(0,a.e)(),T=u.getState("users"),g=l*(n-1);let R=[];if(s!=null?R=T.filter(y=>y.active==s):R=[...T],D!=null&&(R=R.filter(y=>y.role===D)),r){const y=new RegExp(r,"gi");R=R.filter(W=>W.name.toString().match(y))}const K=R.slice(g,g+l);return{...L,result:{current:n,size:l,total:R.length,list:K}}},m=async()=>{const s=await(0,a.e)(),n=u.getState("routers");return{...s,result:n}},I=async s=>{const n=await(0,a.e)(),l=u.getState("routers"),r={...s,_id:(0,e.k$y)()};return l.push(r),u.setState({routers:l}),{...n,result:r}},P=async s=>{const n=await(0,a.e)(),l=u.getState("routers");let r=l.find(D=>D._id===s._id);return r&&(r={...r,...s},u.setState({routers:l})),{...n,result:s}},O=async s=>{const n=await(0,a.e)(),l=u.getState("routers"),r=l.findIndex(D=>D._id===s._id);return r>-1&&(l.splice(r,1),u.setState({routers:l})),n},C=async()=>{const s=await(0,a.e)(),n=u.getState("authedRouter")||[];return{...s,result:n}},f=async s=>{const n=await(0,a.e)(),l=u.getState("authedRouter")||[],r=[...new Set([...l,...s?.authKeys??[]])];return u.setState({authedRouter:r}),{...n,result:r}}},79835:function(U,i,t){t.d(i,{e:function(){return a}});var e=t(71090);const a=async u=>(await(0,e._vH)(),{code:200,message:"success\uFF01",result:{}}),E=(u,o=10)=>[...Array(o)].map((d,p)=>({id:uuidv4(),...u}))}}]);

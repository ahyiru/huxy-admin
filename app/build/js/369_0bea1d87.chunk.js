(self.webpackChunk=self.webpackChunk||[]).push([[369],{59369:function(Dt,Ke,h){h.d(Ke,{A:function(){return st}});var P=h(68102),p=h(41705),Le=h(40694),O=h(67346),ge=h(29644),Ne=h(92099),he=h(48183);function ee(){return typeof BigInt=="function"}function Se(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function x(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var i=n||"0",a=i.split("."),l=a[0]||"0",N=a[1]||"0";l==="0"&&N==="0"&&(t=!1);var f=t?"-":"";return{negative:t,negativeStr:f,trimStr:i,integerStr:l,decimalStr:N,fullStr:"".concat(f).concat(i)}}function te(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function R(e){var n=String(e);if(te(e)){var t=Number(n.slice(n.indexOf("e-")+2)),i=n.match(/\.(\d+)/);return i!=null&&i[1]&&(t+=i[1].length),t}return n.includes(".")&&ne(n)?n.length-n.indexOf(".")-1:0}function H(e){var n=String(e);if(te(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ee()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ee()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(R(n))}return x(n).fullStr}function ne(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Pe=function(){function e(n){if((0,Ne.A)(this,e),(0,p.A)(this,"origin",""),(0,p.A)(this,"negative",void 0),(0,p.A)(this,"integer",void 0),(0,p.A)(this,"decimal",void 0),(0,p.A)(this,"decimalLen",void 0),(0,p.A)(this,"empty",void 0),(0,p.A)(this,"nan",void 0),Se(n)){this.empty=!0;return}if(this.origin=String(n),n==="-"||Number.isNaN(n)){this.nan=!0;return}var t=n;if(te(t)&&(t=Number(t)),t=typeof t=="string"?t:H(t),ne(t)){var i=x(t);this.negative=i.negative;var a=i.trimStr.split(".");this.integer=BigInt(a[0]);var l=a[1]||"0";this.decimal=BigInt(l),this.decimalLen=l.length}else this.nan=!0}return(0,he.A)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var i="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(i)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,i,a){var l=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),N=this.alignDecimal(l),f=t.alignDecimal(l),E=i(N,f).toString(),v=a(l),d=x(E),S=d.negativeStr,b=d.trimStr,g="".concat(S).concat(b.padStart(v+1,"0"));return new e("".concat(g.slice(0,-v),".").concat(g.slice(-v)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=new e(t);return i.isInvalidate()?this:this.cal(i,function(a,l){return a+l},function(a){return a})}},{key:"multi",value:function(t){var i=new e(t);return this.isInvalidate()||i.isInvalidate()?new e(NaN):this.cal(i,function(a,l){return a*l},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===t?.toString()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":x("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),He=function(){function e(n){if((0,Ne.A)(this,e),(0,p.A)(this,"origin",""),(0,p.A)(this,"number",void 0),(0,p.A)(this,"empty",void 0),Se(n)){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return(0,he.A)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=Number(t);if(Number.isNaN(i))return this;var a=this.number+i;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(R(this.number),R(i));return new e(a.toFixed(l))}},{key:"multi",value:function(t){var i=Number(t);if(this.isInvalidate()||Number.isNaN(i))return new e(NaN);var a=this.number*i;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(R(this.number),R(i));return new e(a.toFixed(l))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===t?.toNumber()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":H(this.number):this.origin}}]),e}();function be(e){return ee()?new Pe(e):new He(e)}function X(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var a=x(e),l=a.negativeStr,N=a.integerStr,f=a.decimalStr,E="".concat(n).concat(f),v="".concat(l).concat(N);if(t>=0){var d=Number(f[t]);if(d>=5&&!i){var S=be(e).add("".concat(l,"0.").concat("0".repeat(t)).concat(10-d));return X(S.toString(),n,t,i)}return t===0?v:"".concat(v).concat(n).concat(f.padEnd(t,"0").slice(0,t))}return E===".0"?v:"".concat(v).concat(E)}var y=be,Xe=h(4452),re=h.n(Xe),Ye=h(13959),Y=h(70697),pe=h(58483),s=h(63696),je=h(54358);function ze(e,n){var t=(0,s.useRef)(null);function i(){try{var l=e.selectionStart,N=e.selectionEnd,f=e.value,E=f.substring(0,l),v=f.substring(N);t.current={start:l,end:N,value:f,beforeTxt:E,afterTxt:v}}catch{}}function a(){if(e&&t.current&&n)try{var l=e.value,N=t.current,f=N.beforeTxt,E=N.afterTxt,v=N.start,d=l.length;if(l.endsWith(E))d=l.length-t.current.afterTxt.length;else if(l.startsWith(f))d=f.length;else{var S=f[v-1],b=l.indexOf(S,v-1);b!==-1&&(d=b+1)}e.setSelectionRange(d,d)}catch(g){(0,je.Ay)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(g.message))}}return[i,a]}var Je=h(64298),Qe=function(){var n=(0,s.useState)(!1),t=(0,O.A)(n,2),i=t[0],a=t[1];return(0,Y.A)(function(){a((0,Je.A)())},[]),i},Ze=Qe,j=h(46599),qe=200,_e=600;function et(e){var n=e.prefixCls,t=e.upNode,i=e.downNode,a=e.upDisabled,l=e.downDisabled,N=e.onStep,f=s.useRef(),E=s.useRef([]),v=s.useRef();v.current=N;var d=function(){clearTimeout(f.current)},S=function(w,$){w.preventDefault(),d(),v.current($);function Q(){v.current($),f.current=setTimeout(Q,qe)}f.current=setTimeout(Q,_e)};s.useEffect(function(){return function(){d(),E.current.forEach(function(A){return j.A.cancel(A)})}},[]);var b=Ze();if(b)return null;var g="".concat(n,"-handler"),C=re()(g,"".concat(g,"-up"),(0,p.A)({},"".concat(g,"-up-disabled"),a)),z=re()(g,"".concat(g,"-down"),(0,p.A)({},"".concat(g,"-down-disabled"),l)),M=function(){return E.current.push((0,j.A)(d))},J={unselectable:"on",role:"button",onMouseUp:M,onMouseLeave:M};return s.createElement("div",{className:"".concat(g,"-wrap")},s.createElement("span",(0,P.A)({},J,{onMouseDown:function(w){S(w,!0)},"aria-label":"Increase Value","aria-disabled":a,className:C}),t||s.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),s.createElement("span",(0,P.A)({},J,{onMouseDown:function(w){S(w,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:z}),i||s.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function Ee(e){var n=typeof e=="number"?H(e):x(e).fullStr,t=n.includes(".");return t?x(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var tt=h(19560),nt=function(){var e=(0,s.useRef)(0),n=function(){j.A.cancel(e.current)};return(0,s.useEffect)(function(){return n},[]),function(t){n(),e.current=(0,j.A)(function(){t()})}},rt=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur"],at=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],ye=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},Ie=function(n){var t=y(n);return t.isInvalidate()?null:t},it=s.forwardRef(function(e,n){var t,i=e.prefixCls,a=i===void 0?"rc-input-number":i,l=e.className,N=e.style,f=e.min,E=e.max,v=e.step,d=v===void 0?1:v,S=e.defaultValue,b=e.value,g=e.disabled,C=e.readOnly,z=e.upHandler,M=e.downHandler,J=e.keyboard,A=e.changeOnWheel,w=A===void 0?!1:A,$=e.controls,Q=$===void 0?!0:$,xt=e.classNames,De=e.stringMode,Z=e.parser,V=e.formatter,k=e.precision,F=e.decimalSeparator,ae=e.onChange,ie=e.onInput,ue=e.onPressEnter,se=e.onStep,xe=e.changeOnBlur,lt=xe===void 0?!0:xe,ot=(0,ge.A)(e,rt),Re="".concat(a,"-input"),U=s.useRef(null),ct=s.useState(!1),Ce=(0,O.A)(ct,2),le=Ce[0],we=Ce[1],D=s.useRef(!1),G=s.useRef(!1),q=s.useRef(!1),ft=s.useState(function(){return y(b??S)}),Me=(0,O.A)(ft,2),m=Me[0],Ve=Me[1];function dt(u){b===void 0&&Ve(u)}var oe=s.useCallback(function(u,r){if(!r)return k>=0?k:Math.max(R(u),R(d))},[k,d]),ce=s.useCallback(function(u){var r=String(u);if(Z)return Z(r);var c=r;return F&&(c=c.replace(F,".")),c.replace(/[^\w.-]+/g,"")},[Z,F]),fe=s.useRef(""),ke=s.useCallback(function(u,r){if(V)return V(u,{userTyping:r,input:String(fe.current)});var c=typeof u=="number"?H(u):u;if(!r){var o=oe(c,r);if(ne(c)&&(F||o>=0)){var I=F||".";c=X(c,I,o)}}return c},[V,oe,F]),vt=s.useState(function(){var u=S??b;return m.isInvalidate()&&["string","number"].includes((0,Le.A)(u))?Number.isNaN(u)?"":u:ke(m.toString(),!1)}),Fe=(0,O.A)(vt,2),W=Fe[0],Be=Fe[1];fe.current=W;function K(u,r){Be(ke(u.isInvalidate()?u.toString(!1):u.toString(!r),r))}var B=s.useMemo(function(){return Ie(E)},[E,k]),T=s.useMemo(function(){return Ie(f)},[f,k]),Te=s.useMemo(function(){return!B||!m||m.isInvalidate()?!1:B.lessEquals(m)},[B,m]),Oe=s.useMemo(function(){return!T||!m||m.isInvalidate()?!1:m.lessEquals(T)},[T,m]),mt=ze(U.current,le),$e=(0,O.A)(mt,2),gt=$e[0],Nt=$e[1],Ue=function(r){return B&&!r.lessEquals(B)?B:T&&!T.lessEquals(r)?T:null},de=function(r){return!Ue(r)},_=function(r,c){var o=r,I=de(o)||o.isEmpty();if(!o.isEmpty()&&!c&&(o=Ue(o)||o,I=!0),!C&&!g&&I){var L=o.toString(),me=oe(L,c);return me>=0&&(o=y(X(L,".",me)),de(o)||(o=y(X(L,".",me,!0)))),o.equals(m)||(dt(o),ae?.(o.isEmpty()?null:ye(De,o)),b===void 0&&K(o,c)),o}return m},ht=nt(),Ge=function u(r){if(gt(),fe.current=r,Be(r),!G.current){var c=ce(r),o=y(c);o.isNaN()||_(o,!0)}ie?.(r),ht(function(){var I=r;Z||(I=r.replace(/。/g,".")),I!==r&&u(I)})},St=function(){G.current=!0},bt=function(){G.current=!1,Ge(U.current.value)},pt=function(r){Ge(r.target.value)},ve=function(r){var c;if(!(r&&Te||!r&&Oe)){D.current=!1;var o=y(q.current?Ee(d):d);r||(o=o.negate());var I=(m||y(0)).add(o.toString()),L=_(I,!1);se?.(ye(De,L),{offset:q.current?Ee(d):d,type:r?"up":"down"}),(c=U.current)===null||c===void 0||c.focus()}},We=function(r){var c=y(ce(W)),o=c;c.isNaN()?o=_(m,r):o=_(c,r),b!==void 0?K(m,!1):o.isNaN()||K(o,!1)},Et=function(){D.current=!0},yt=function(r){var c=r.key,o=r.shiftKey;D.current=!0,q.current=o,c==="Enter"&&(G.current||(D.current=!1),We(!1),ue?.(r)),J!==!1&&!G.current&&["Up","ArrowUp","Down","ArrowDown"].includes(c)&&(ve(c==="Up"||c==="ArrowUp"),r.preventDefault())},It=function(){D.current=!1,q.current=!1};s.useEffect(function(){if(w&&le){var u=function(o){ve(o.deltaY<0),o.preventDefault()},r=U.current;if(r)return r.addEventListener("wheel",u,{passive:!1}),function(){return r.removeEventListener("wheel",u)}}});var At=function(){lt&&We(!1),we(!1),D.current=!1};return(0,Y.o)(function(){m.isInvalidate()||K(m,!1)},[k,V]),(0,Y.o)(function(){var u=y(b);Ve(u);var r=y(ce(W));(!u.equals(r)||!D.current||V)&&K(u,D.current)},[b]),(0,Y.o)(function(){V&&Nt()},[W]),s.createElement("div",{className:re()(a,l,(t={},(0,p.A)(t,"".concat(a,"-focused"),le),(0,p.A)(t,"".concat(a,"-disabled"),g),(0,p.A)(t,"".concat(a,"-readonly"),C),(0,p.A)(t,"".concat(a,"-not-a-number"),m.isNaN()),(0,p.A)(t,"".concat(a,"-out-of-range"),!m.isInvalidate()&&!de(m)),t)),style:N,onFocus:function(){we(!0)},onBlur:At,onKeyDown:yt,onKeyUp:It,onCompositionStart:St,onCompositionEnd:bt,onBeforeInput:Et},Q&&s.createElement(et,{prefixCls:a,upNode:z,downNode:M,upDisabled:Te,downDisabled:Oe,onStep:ve}),s.createElement("div",{className:"".concat(Re,"-wrap")},s.createElement("input",(0,P.A)({autoComplete:"off",role:"spinbutton","aria-valuemin":f,"aria-valuemax":E,"aria-valuenow":m.isInvalidate()?null:m.toString(),step:d},ot,{ref:(0,pe.K4)(U,n),className:Re,value:W,onChange:pt,disabled:g,readOnly:C}))))}),Ae=s.forwardRef(function(e,n){var t=e.disabled,i=e.style,a=e.prefixCls,l=e.value,N=e.prefix,f=e.suffix,E=e.addonBefore,v=e.addonAfter,d=e.className,S=e.classNames,b=(0,ge.A)(e,at),g=s.useRef(null),C=function(M){g.current&&(0,tt.F4)(g.current,M)};return s.createElement(Ye.a,{className:d,triggerFocus:C,prefixCls:a,value:l,disabled:t,style:i,prefix:N,suffix:f,addonAfter:v,addonBefore:E,classNames:S,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}},s.createElement(it,(0,P.A)({prefixCls:a,disabled:t,ref:(0,pe.K4)(g,n),className:S?.input},b)))});Ae.displayName="InputNumber";var ut=Ae,st=ut}}]);

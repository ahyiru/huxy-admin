(self.webpackChunk=self.webpackChunk||[]).push([[39],{65361:function(ee,f,t){var e=t(62540),o=t(21613),y=t(7003);const O=({children:c,...h})=>(0,e.jsx)(y.gy,{...h,children:(0,e.jsx)(o.A,{placement:"topLeft",title:c,children:c})});f.A=O},37553:function(ee,f,t){var e=t(62540),o=t(7003);const y=({style:O,children:c,...h})=>(0,e.jsx)(o.Zk,{style:{background:"var(--panelBgColor)",...O},...h,children:c});f.A=y},15951:function(ee,f,t){var e=t(62540),o=t(35703),y=t(67202),O=t(7003),c=t(60608);const h={gutter:[12,12],style:{}},M={xl:2,lg:3,md:3,sm:4,xs:6},m=$=>{const{submit:T,loading:F,children:A,handler:w,initialValues:N,...Q}=$,[d]=o.A.useForm();return(0,e.jsx)("div",{className:"sm-form-style",...Q,children:(0,e.jsx)(o.A,{layout:"inline",form:d,initialValues:N,onFinish:L=>T((0,c.sy5)(L)),style:{width:"100%"},children:(0,e.jsxs)(O.xA,{rowProps:h,colProps:M,children:[(0,e.jsx)("div",{itemprops:{style:{flex:"1 0 auto"},xs:12},children:w}),A,(0,e.jsxs)("div",{itemprops:{style:{maxWidth:"176px"}},style:{float:"right"},children:[(0,e.jsx)(y.Ay,{loading:F,type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(y.Ay,{style:{marginLeft:"12px"},onClick:()=>d.resetFields(),children:"\u91CD\u7F6E"})]})]})})})};f.A=m},17767:function(ee,f,t){var e=t(63696),o=t(87458);const y=(O,c=null,h,M=null)=>{const[m,$]=(0,o.Yb)({}),T=(0,e.useCallback)(A=>O&&$({res:O({...M,...A})},h),[]);(0,e.useEffect)(()=>{T({...c})},[]);const{res:F}=m;return[{pending:F?.pending,data:F?.result},T]};f.A=y},19785:function(ee,f,t){var e=t(63696),o=t(17767);const y=(O,c=null,h,M=null)=>{const{current:m,size:$,...T}=c||{},F=(0,e.useRef)(T||{}),A=(0,e.useRef)({current:m||1,size:$||10}),[w,N]=(0,o.A)(O,{...A.current,...F.current},h,M);return[w,z=>{const{current:Z,size:G,...J}=z||{};A.current={current:Z??A.current.current,size:G??A.current.size},F.current={...F.current,...J},N({...A.current,...F.current})},(z,Z)=>{A.current={current:z,size:Z},N({...A.current,...F.current})},z=>{F.current=z,A.current={...A.current,current:1},N({...A.current,...F.current})}]};f.A=y},66555:function(ee,f,t){t.r(f);var e=t(62540),o=t(63696),y=t(53942),O=t(21613),c=t(67202),h=t(2314),M=t(33402),m=t(99030),$=t(35703),T=t(67372),F=t(4334),A=t(92291),w=t(74415),N=t(6599),Q=t(7003),d=t(60608),L=t(19785),z=t(15951),Z=t(37553),G=t(17212),J=t(66954);const{listMessageFn:V,deleteMessageFn:ne,readMessageFn:oe}=J.Ay,S=[{label:"\u672A\u8BFB",value:0},{label:"\u5DF2\u8BFB",value:1}],ue=({handleAudit:X,handleDelete:se},E,p)=>[{title:"\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u4E3B\u9898",dataIndex:"title",ellipsis:!0},{title:"\u5185\u5BB9",dataIndex:"context",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:K=>(0,e.jsx)(y.A,{color:K?"blue":"yellow",children:K?"\u5DF2\u8BFB":"\u672A\u8BFB"})},...E?[{title:"\u5DF2\u8BFB\u7528\u6237",dataIndex:"reader",ellipsis:!0},{title:"\u63A5\u6536\u7528\u6237",dataIndex:"receiver",ellipsis:!0}]:[],{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(K,B)=>{const _=K||B.createtime||+new Date,Y=(0,d.fUm)(new Date(_));return(0,e.jsx)(O.A,{title:Y,children:Y})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(K,B)=>K||B.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",fixed:"right",render:(K,B)=>(0,e.jsxs)(e.Fragment,{children:[p?null:(0,e.jsx)(c.Ay,{type:"link",size:"small",disabled:B.status,onClick:()=>X(B),children:"\u6807\u8BB0\u4E3A\u5DF2\u8BFB"}),E?(0,e.jsx)(c.Ay,{type:"link",size:"small",onClick:()=>se(B),danger:!0,children:"\u5220\u9664"}):null]})}],te=X=>{const E=(G.PK.getState()||{}).role===5,[p,K]=(0,o.useState)([]),[B,_]=(0,o.useState)(0),Y=X.params,[de,ae,g,P]=(0,L.A)(V,{current:Y?.current,size:Y?.size},null,{status:B}),R=r=>{const l=r?[r]:p,I=l.map(k=>k._id),H=l.length>1?`(\u5171 ${l.length} \u9879)`:"";h.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${H}`,icon:(0,e.jsx)(A.A,{}),content:`label: ${l.map(k=>k.title)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:k,message:q}=await ne({ids:I});k===200&&(d.iUO.success(q),K([]),ae({current:1}))},onCancel(){}})},U=async r=>{const I=(r?[r]:p).map(q=>q._id),{code:H,message:k}=await oe({ids:I});H===200&&(K([]),ae({current:1}),G.d2.setState(q=>q-I.length))},W=r=>{const{value:l}=r.target;_(l),ae({current:1,status:l})},b=B&&!E?null:{selectedRowKeys:p.map(r=>r._id),onChange:(r,l)=>{K(l)},getCheckboxProps:r=>({}),columnWidth:"30px",fixed:!0};let n=ue({handleDelete:R,handleAudit:U},E,B);n=B&&!E?n.slice(0,-1):n;const{pending:s,data:u}=de,{total:i,current:x,size:C,list:j}=u||{},D={onShowSizeChange:(r,l)=>g(r,l),onChange:(r,l)=>g(r,l),showSizeChanger:!0,showQuickJumper:!0,total:i||1,current:x||1,pageSize:C||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(Q.fI,{children:[(0,e.jsx)(Q.fv,{children:(0,e.jsx)(Z.A,{children:(0,e.jsx)(z.A,{submit:P,loading:s,handler:(0,e.jsxs)(M.A,{size:"small",children:[(0,e.jsx)(m.Ay.Group,{optionType:"button",buttonStyle:"solid",options:S,onChange:W,value:B}),(0,e.jsxs)(e.Fragment,{children:[B?null:(0,e.jsx)(c.Ay,{loading:s,disabled:!p.length,onClick:()=>U(),type:"primary",icon:(0,e.jsx)(w.A,{}),children:"\u6279\u91CF\u6807\u8BB0"}),E?(0,e.jsx)(c.Ay,{loading:s,disabled:!p.length,onClick:()=>R(),icon:(0,e.jsx)(N.A,{}),children:"\u6279\u91CF\u5220\u9664"}):null]})]}),children:(0,e.jsx)($.A.Item,{name:"title",label:"\u4E3B\u9898",children:(0,e.jsx)(T.A,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(Q.fv,{children:(0,e.jsx)(Z.A,{children:(0,e.jsx)(F.A,{pagination:D,rowSelection:b,columns:n,dataSource:j??[],loading:s,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};f.default=te},29592:function(ee,f,t){t.r(f),t.d(f,{default:function(){return A}});var e=t(62540),o=t(63696),y=t(2314),O=t(67202),c=t(7003),h=t(60608),M=t(76449),m=t(17212),$=t(66954),T={},A=w=>{const N=m.PK.getState()||{},Q=async({type:d,label:L})=>{const{payCount:z}=N??{},Z=z?`\u60A8\u8FD8\u5269\u4F59 ${z} \u6B21\u804A\u5929\u673A\u4F1A\uFF0C\u5F00\u901A\u65B0\u4F1A\u5458\u540E\u4F1A\u5C06\u5269\u4F59\u6B21\u6570\u7D2F\u52A0\u81F3\u65B0\u4F1A\u5458\u3002`:"";y.A.confirm({title:"\u8BA2\u5355\u786E\u8BA4",content:`${Z}\u786E\u5B9A\u5F00\u901A ${L}\u4F1A\u5458 \u5417\uFF1F`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:G,message:J,info:V}=await $.Ay.addPayerFn({type:d});G===200&&(h.iUO.success(J),w.router.push({path:"/payer/count/pay",state:{info:V}}))}})};return(0,e.jsx)("div",{children:(0,e.jsx)(c.fI,{gutter:20,children:M.rY.map(({type:d,label:L,price:z,period:Z,count:G,description:J})=>(0,e.jsx)(c.fv,{span:4,xs:12,children:(0,e.jsxs)("div",{className:"count-card",children:[(0,e.jsx)("h4",{className:"order-title",children:L}),(0,e.jsxs)("p",{className:"order-info",children:["\u6709\u6548\u671F ",Z," \u4E2A\u6708"]}),(0,e.jsxs)("p",{className:"order-info",children:["\u5BF9\u8BDD\u6B21\u6570 ",G," \u6B21"]}),J.split(`

`).map((V,ne)=>(0,e.jsx)("p",{className:"order-desc",children:V},`des-${ne}`)),(0,e.jsxs)("p",{className:"order-cost",children:[(0,e.jsx)("span",{children:"\u6D88\u8D39\uFF1A"}),(0,e.jsxs)("span",{className:"cost-num",children:["\xA5 ",z]})]}),(0,e.jsx)(O.Ay,{type:"primary",style:{width:"120px",paddingBottom:"15px"},onClick:V=>Q({type:d,label:L}),children:"\u5F00\u901A"})]})},d))})})}},85229:function(ee,f,t){t.r(f);var e=t(62540),o=t(63696),y=t(53942),O=t(21613),c=t(67202),h=t(2314),M=t(33402),m=t(35703),$=t(67372),T=t(4334),F=t(92291),A=t(7003),w=t(60608),N=t(19785),Q=t(15951),d=t(66954),L=t(37553),z=t(17212);const{listPayerFn:Z,deletePayerFn:G,auditPayerFn:J,cancelPayerFn:V}=d.Ay,ne=({handleDelete:S,handleAudit:ue,handlePay:te,handleCancel:X},se)=>[{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",ellipsis:!0},{title:"\u8BA2\u5355\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u540D\u79F0",dataIndex:"label",ellipsis:!0},{title:"\u6D88\u8D39",dataIndex:"price",ellipsis:!0,render:E=>`${E} \u5143`},{title:"\u6709\u6548\u671F",dataIndex:"period",ellipsis:!0,render:E=>`${E} \u4E2A\u6708`},{title:"\u6B21\u6570",dataIndex:"count",ellipsis:!0,render:E=>`${E} \u6B21`},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:(E,p)=>(0,e.jsx)(y.A,{color:p.deleted?"yellow":E?"green":"red",children:p.deleted?"\u5DF2\u5931\u6548":E?"\u5DF2\u5BA1\u6838":"\u672A\u5BA1\u6838"})},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(E,p)=>{const K=E||p.createtime||+new Date,B=(0,w.fUm)(new Date(K));return(0,e.jsx)(O.A,{title:B,children:B})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(E,p)=>E||p.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",render:(E,p)=>se?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.Ay,{type:"link",size:"small",disabled:!!p.status||p.deleted,onClick:()=>ue(p),children:"\u5BA1\u6838"}),(0,e.jsx)(c.Ay,{type:"link",size:"small",onClick:()=>S(p),danger:!0,children:"\u5220\u9664"})]}):p.status?(0,e.jsx)(c.Ay,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u652F\u4ED8"}):p.deleted?(0,e.jsx)(c.Ay,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u5931\u6548"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.Ay,{type:"link",size:"small",onClick:()=>X(p),children:"\u53D6\u6D88\u8BA2\u5355"}),(0,e.jsx)(c.Ay,{type:"link",size:"small",onClick:()=>te(p),children:"\u53BB\u652F\u4ED8"})]})}],oe=S=>{const ue=z.PK.getState()||{},{role:te,payCount:X}=ue,se=S.history.getState()?.backState,E=S.history.getState()?.item,[p,K]=(0,o.useState)([]),B=S.params,[_,Y,de,ae]=(0,N.A)(Z,{current:B?.current,size:B?.size}),g=r=>{S.router.push({path:"/payer/count/pay",state:{info:r}})},P=r=>{S.router.push({path:`./edit/${r._id}`,state:{item:r,backState:{path:S.path,params:{current:x,size:C},state:{item:E,backState:se}}}})},R=async()=>{S.router.push("./add")},n=ne({handlePay:g,handleDelete:r=>{const l=r?[r]:p,I=l.length>1?`(\u5171 ${l.length} \u9879)`:"";h.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${I}`,icon:(0,e.jsx)(F.A,{}),content:`orderNo: ${l.map(H=>H.orderNo)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:H,message:k}=await G({items:l});H===200&&(w.iUO.success(k),K([]),Y({current:1}))},onCancel(){}})},handleAudit:async r=>{const{code:l,message:I}=await J(r);l===200&&(w.iUO.success(I),Y({current:1}))},handleCancel:async r=>{const{code:l,message:I}=await V(r);l===200&&(w.iUO.success(I),Y({current:1}))}},te===5),{pending:s,data:u}=_,{total:i,current:x,size:C,list:j}=u||{},D={onShowSizeChange:(r,l)=>de(r,l),onChange:(r,l)=>de(r,l),showSizeChanger:!0,showQuickJumper:!0,total:i||1,current:x||1,pageSize:C||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(A.fI,{children:[(0,e.jsx)(A.fv,{children:(0,e.jsx)(L.A,{children:(0,e.jsx)(Q.A,{submit:ae,loading:s,handler:(0,e.jsxs)(M.A,{size:"small",children:[X?(0,e.jsx)(c.Ay,{loading:s,onClick:()=>S.router.push("https://ihuxy.com/chatbot"),type:"primary",children:"\u53BB\u804A\u5929"}):(0,e.jsx)(c.Ay,{loading:s,onClick:()=>S.router.push("/payer/count/member"),type:"primary",children:"\u5F00\u901A\u4F1A\u5458"}),(0,e.jsx)(c.Ay,{loading:s,onClick:()=>S.router.push("https://ihuxy.com/chatbot"),children:"\u53BB\u8BD5\u7528"})]}),children:(0,e.jsx)(m.A.Item,{name:"order",label:"\u8BA2\u5355\u53F7",children:(0,e.jsx)($.A,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(A.fv,{children:(0,e.jsx)(L.A,{children:(0,e.jsx)(T.A,{pagination:D,columns:n,dataSource:j??[],loading:s,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};f.default=oe},55426:function(ee,f,t){t.r(f),t.d(f,{default:function(){return ae}});var e=t(62540),o=t(63696),y=t(2314),O=t(92291),c=t(29958),h=t(54130),M=t(7003),m=t(60608),$=t(19785),T=t(33402),F=t(67202),A=t(37553),w=t(67372),N=t(13601),Q=t(99030),d=t(85616),L=t(35703);const z={Input:w.A,Select:N.A,Radio:Q.Ay,Checkbox:d.A};var G=g=>{const{submit:P,loading:R,searchFormText:U="\u641C\u7D22",reset:W="\u91CD\u7F6E",formList:b=[],compList:a={}}=g,n={...z,compList:a},[s]=L.A.useForm();return(0,e.jsxs)(L.A,{layout:"inline",form:s,initialValues:{},onFinish:u=>P((0,m.sy5)(u)),children:[b.map(u=>{const{type:i,name:x,label:C,props:j,...D}=u,r=typeof i=="string"?n[(0,m.fQM)(i.trim())]:i||(l=>(0,e.jsx)("div",{...l}));return(0,e.jsx)(L.A.Item,{name:x,label:C,...D,children:(0,e.jsx)(r,{...j})},x)}),(0,e.jsx)(L.A.Item,{children:(0,e.jsxs)(T.A,{size:"small",children:[(0,e.jsx)(F.Ay,{loading:R,type:"primary",htmlType:"submit",children:U}),W&&(0,e.jsx)(F.Ay,{onClick:()=>s.resetFields(),children:W})]})})]})},J=t(4334),ne=g=>{const{result:P,pageChange:R,columns:U,rowSelection:W,pagination:b,...a}=g,{pending:n,data:s}=P,{total:u,current:i,size:x,list:C}=s||{},j=(l,I)=>{R?.(l,I)},D=W?{columnWidth:"30px",...typeof W=="object"?W:null}:null,r=b===!1?!1:{onShowSizeChange:j,onChange:j,showSizeChanger:!0,showQuickJumper:!0,total:u||1,current:i||1,pageSize:x||10,pageSizeOptions:["10","20","30","40"],size:"small",...typeof b=="object"?b:null};return(0,e.jsx)(J.A,{pagination:r,rowSelection:D,columns:U,dataSource:C??[],loading:n,size:"small",bordered:!0,scroll:{x:!0},...a})},oe=t(79188),S=t(79618),te=g=>{const{result:P,pageChange:R,RenderItem:U,itemSize:W=45,paramsKey:b,width:a="100%",height:n=600}=g,{pending:s,data:u}=P,{list:i=[],total:x=1,size:C=10,current:j=1}=u||{},D=(re,ce)=>{if(s)return;const le=~~((ce+1)/C);R?.(le,C)},r=(0,o.useRef)(null);(0,o.useEffect)(()=>{r.current&&(r.current.resetloadMoreItemsCache?.(),r.current._listRef?.scrollTo(0)),l.current={}},[b]);const l=(0,o.useRef)({[j]:i});s||(l.current[j]=i);const I=[];Object.keys(l.current).map(re=>I.push(...l.current[re]));const H=I.length,k=H<x,q=k?H+C:H,me=re=>!k||re<H;return(0,e.jsx)(S.A,{ref:r,isItemLoaded:me,itemCount:q,loadMoreItems:D,children:({onItemsRendered:re,ref:ce})=>(0,e.jsx)(oe.Y1,{height:n,width:a,className:"virtual-list",ref:ce,itemSize:W,itemCount:q,onItemsRendered:re,children:({index:le,style:pe})=>typeof U=="function"?U({index:le,style:pe,item:I[le],isItemLoaded:me}):`${le}-${I[le].name}`})})},X=t(52445),E=g=>(0,e.jsx)("div",{style:{width:"100%",minHeight:"50vh"},children:(0,e.jsx)(X.Ay,{children:({height:P,width:R})=>(0,e.jsx)(te,{...g,height:P,width:R})})});const p={table:ne,list:te,autoSize:E};var B=({result:g,actionList:P,formList:R,columns:U,RenderItem:W,searchList:b,pageChange:a,rowSelection:n,paramsKey:s,rowKey:u="_id",listType:i})=>{const x=p[i]??p.table;return(0,e.jsxs)(M.fI,{children:[P?.length||R?.length?(0,e.jsx)(M.fv,{children:(0,e.jsxs)(A.A,{children:[P?.length?(0,e.jsx)("div",{style:{float:"left"},children:(0,e.jsx)(T.A,{size:"small",children:P.map(({key:C,type:j,label:D,icon:r,action:l,disabled:I})=>(0,e.jsx)(F.Ay,{loading:g.pending,onClick:H=>l?.(),type:j,icon:r,disabled:I,children:D},C))})}):null,R?.length?(0,e.jsx)("div",{style:{float:"right"},children:(0,e.jsx)(G,{formList:R,submit:b,loading:g.pending})}):null]})}):null,(0,e.jsx)(M.fv,{children:(0,e.jsx)(A.A,{children:(0,e.jsx)(x,{result:g,columns:U,RenderItem:W,pageChange:a,rowSelection:n,rowKey:u,paramsKey:s})})})]})},_=t(70961),Y={},ae=g=>{const[P,R]=(0,o.useState)(g.type??"table"),[U,W]=(0,o.useState)(1),[b,a]=(0,o.useState)(""),[n,s]=(0,o.useState)([]),[u,i,x,C]=(0,$.A)(_.lZ.allUser,{current:1,size:10,active:U}),{current:j,size:D}=u.data||{},r=v=>{R(v),i({current:1,size:10,active:U})},l=v=>{W(v),i({current:1,size:10,active:v})},I=v=>{a(v),C(v)},H=v=>{g.router.push({path:`./auth/${v._id}`,state:{item:v,backState:{path:g.path,params:{current:j,size:D}}}})},k=v=>{g.router.push({path:`./edit/${v._id}`,state:{item:v,backState:{path:g.path,params:{current:j,size:D}}}})},q=v=>{const ie=v?[v]:n,Ee=ie.map(he=>he._id),fe=ie.length>1?`(\u5171 ${ie.length} \u9879)`:"";y.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${fe}`,icon:(0,e.jsx)(O.A,{}),content:`name: ${ie.map(he=>he.name)}`,okText:"\u5220\u9664",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:he,message:ge}=await _.lZ.deleteUser({ids:Ee});he===200&&(m.iUO.success(ge),s([]),i({current:1}))},onCancel(){}})},me=()=>{g.router.push("./add")},re=async()=>{const{code:v,message:ie}=await _.lZ.export();v===200&&m.iUO.success(ie)},ce={selectedRowKeys:n.map(v=>v._id),onChange:(v,ie)=>{s(ie)}},le={handleCheck:H,handleEdit:k,handleDelete:q},pe={handleAdd:me,handleExport:re,handleDelete:q},Ae={RenderItem:_.gE,columns:(0,_.GH)(_.qd,(0,_.QJ)(le)),result:u,pageChange:x,searchList:I,rowSelection:ce,formList:_.Hc,listType:P,actionList:(0,_.Zt)(pe,!n.length),paramsKey:JSON.stringify({...b,active:U})};return(0,e.jsxs)("div",{className:"config-list",children:[(0,e.jsx)(M.tu,{tabs:_.vR,switchTab:l}),(0,e.jsx)(B,{...Ae}),(0,e.jsxs)("div",{className:"handle-bar",children:[(0,e.jsx)("span",{className:`link${P==="table"?" active":""}`,onClick:v=>r("table"),children:(0,e.jsx)(c.A,{})}),(0,e.jsx)("span",{className:`link${P==="list"?" active":""}`,onClick:v=>r("list"),children:(0,e.jsx)(h.A,{})})]})]})}},76449:function(ee,f,t){t.d(f,{Zp:function(){return M},r9:function(){return o},rY:function(){return e},vz:function(){return m}});const e=[{type:"vip1",label:"\u57FA\u7840\u7248",price:29,period:3,count:800,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

800 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 3 \u4E2A\u6708\u3002`},{type:"vip2",label:"\u767D\u94F6\u7248",price:39,period:6,count:1500,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

1500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 6 \u4E2A\u6708\u3002`},{type:"vip3",label:"\u9EC4\u91D1\u7248",price:69,period:12,count:3e3,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

3000 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 12 \u4E2A\u6708\u3002`}],o=[{value:0,label:"\u666E\u901A\u7528\u6237",price:0,period:0,name:"general",description:"\u6BCF\u5929 2 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002"},{value:1,label:"\u57FA\u7840\u4F1A\u5458",price:19,period:1,name:"vip1",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 50 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:2,label:"\u767D\u94F6\u4F1A\u5458",price:29,period:1,name:"vip2",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 100 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:3,label:"\u9EC4\u91D1\u4F1A\u5458",price:39,period:1,name:"vip3",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 200 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:4,label:"\u94BB\u77F3\u4F1A\u5458",price:49,period:1,name:"vip4",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 320 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:5,label:"\u8D85\u7EA7\u7BA1\u7406\u5458",price:1e4,period:1e4,name:"vip5",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`}],y=[{value:1,label:"1 \u4E2A\u6708"},{value:3,label:"3 \u4E2A\u6708"},{value:6,label:"6 \u4E2A\u6708"},{value:12,label:"12 \u4E2A\u6708"},{value:24,label:"24 \u4E2A\u6708"}],O=[{value:"get",label:"get"},{value:"post",label:"post"}],c=[{value:"data",label:"data"},{value:"params",label:"params"},{value:"form",label:"form"},{value:"formData",label:"formData"}],h=[{value:0,label:"\u666E\u901A",color:"green"},{value:1,label:"\u91CD\u8981",color:"orange"},{value:2,label:"\u6838\u5FC3",color:"red"}],M={labelCol:{span:4},wrapperCol:{span:16}},m={wrapperCol:{offset:4,span:16}},$={sm:12,xs:12},T={rowKey:"name",pagination:!1,scroll:{x:!0,y:!0},size:"small"}},70961:function(ee,f,t){t.d(f,{gE:function(){return ae},Zt:function(){return R},lZ:function(){return Y},QJ:function(){return b},Hc:function(){return P},GH:function(){return de},qd:function(){return W},vR:function(){return g}});var e={};t.r(e),t.d(e,{addRouter:function(){return S},addUser:function(){return G},allUser:function(){return ne},deleteRouter:function(){return te},deleteUser:function(){return V},editRouter:function(){return ue},editUser:function(){return J},getAuthedRouter:function(){return X},getRouter:function(){return oe},login:function(){return z},logout:function(){return Z},projectList:function(){return L},setAuthedRouter:function(){return se}});var o=t(62540),y=t(53942),O=t(33402),c=t(67202),h=t(60608),M=t(76449);const m=async a=>(await(0,h.yy4)(),{code:200,message:"success\uFF01",result:{}}),$=(a,n=10)=>[...Array(n)].map((s,u)=>({id:uuidv4(),...a})),T={name:"demo",email:"demo@gmail.com",password:"123456",role:2,token:(0,h.gZm)(),projectName:"demo",projectId:"demo-1",description:"demo",active:1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy",avatar:"https://pic2.zhimg.com/a2e68681a006bd3e60fd5b22d51cb629_im.jpg",github:""},F={path:"",projectId:"demo-1",parentId:"",name:"",icon:"",redirect:"",hideMenu:!1,denied:!1,component:"",isRoot:!1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy"},A=[{parentId:"",path:"/",name:"\u9996\u9875",icon:"HomeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620635990643},{parentId:"",path:"/user",name:"\u767B\u5F55\u6CE8\u518C",icon:"TeamOutlined",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636017796},{parentId:"",path:"/404",name:"404",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636048186},{parentId:"/user",path:"/user/signin",name:"\u767B\u5F55",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636070080},{parentId:"/user",path:"/user/signup",name:"\u6CE8\u518C",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636092363},{parentId:"/user",path:"/user/verifyEmail",name:"\u9A8C\u8BC1\u90AE\u7BB1",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636109839},{parentId:"/user",path:"/user/setNewPwd",name:"\u91CD\u7F6E\u5BC6\u7801",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636127522},{parentId:"/",path:"/layout",name:"\u6846\u67B6\u914D\u7F6E",icon:"LayoutOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636154481,updater:"zys",updatetime:1624872133851},{parentId:"/",path:"/projects",name:"\u9879\u76EE\u7BA1\u7406",icon:"ConsoleSqlOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636177773},{parentId:"/",path:"/projects/add",name:"\u6DFB\u52A0\u9879\u76EE",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636207200},{parentId:"/",path:"/projects/edit/:id",name:"\u7F16\u8F91\u9879\u76EE",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636226823},{parentId:"/",path:"/projects/router/:id",name:"\u9879\u76EE\u8DEF\u7531\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636245820},{parentId:"/",path:"/users",name:"\u7528\u6237\u7BA1\u7406",icon:"UsergroupAddOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636267387},{parentId:"/",path:"/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636289415},{parentId:"/",path:"/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636307487},{parentId:"/",path:"/users/auth/:id",name:"\u8DEF\u7531\u6743\u9650\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636329861},{parentId:"/",path:"/profile",name:"\u4E2A\u4EBA\u4E2D\u5FC3",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636349501},{parentId:"/",path:"/dashboard",name:"\u4EEA\u8868\u76D8",icon:"DashboardOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636376269},{parentId:"/",path:"/pages",name:"\u9875\u9762\u8BBE\u8BA1",icon:"DesktopOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636398998},{parentId:"/",path:"/apis",name:"\u63A5\u53E3\u7BA1\u7406",icon:"ClusterOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636421223},{parentId:"/",path:"/docs",name:"\u6587\u6863\u7BA1\u7406",icon:"FileMarkdownOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636442351},{parentId:"/",path:"/i18n",name:"\u8BED\u8A00\u7BA1\u7406",icon:"GlobalOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636467249},{parentId:"/",path:"/apis/add",name:"\u6DFB\u52A0\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690561030},{parentId:"/",path:"/apis/edit/:id",name:"\u7F16\u8F91\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690599153},{parentId:"/",path:"/apis/test/:id",name:"\u63A5\u53E3\u6D4B\u8BD5",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690623384},{parentId:"/",path:"/suspense",name:"suspense",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690670034},{parentId:"/",path:"/canvas",name:"\u56FE\u5F62\u7ED8\u5236",icon:"AreaChartOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690702896},{parentId:"/",path:"/editor",name:"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",icon:"EditOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690737041},{parentId:"/",path:"/low-code",name:"\u4F4E\u4EE3\u7801",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882549254},{parentId:"/low-code",path:"/low-code/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882672292},{parentId:"/low-code",path:"/low-code/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882700289},{parentId:"/low-code",path:"/low-code/users",name:"\u4E1A\u52A1\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882742565},{parentId:"/low-code",path:"/low-code/ui",name:"UI\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882785052},{parentId:"/low-code",path:"/low-code/dom",name:"\u539F\u751Fdom",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882800008}],N=((a,n=10)=>[...Array(n)].map((s,u)=>({...a,_id:(0,h.gZm)(),name:`${a.name}-${u+1}`,email:`${a.name}${u+1}@gmail.com`,role:(0,h.ImQ)(5),active:(0,h.G1U)()})))(T,500),Q=A.map(a=>({...F,...a,_id:(0,h.gZm)()})),d=(0,h.y$O)();d.setState({users:N,routers:Q});const L=[{_id:(0,h.gZm)(),name:"demo1"},{_id:(0,h.gZm)(),name:"demo2"}],z=async a=>{const n=await m(),u=d.getState("users").find(i=>a.name===i.name&&a.password===i.password);return{...n,result:u}},Z=async a=>({...await m(),result:!0}),G=async a=>{const n=await m(),s={...a,_id:(0,h.gZm)()},u=d.getState("users");return u.push(s),d.setState({users:u}),{...n,result:s}},J=async a=>{const n=await m(),s=d.getState("users");let u=s.find(i=>i._id===a._id);return u&&(u={...u,...a},d.setState({users:s})),{...n,result:a}},V=async({ids:a})=>{const n=await m(),s=d.getState("users");return(a||[]).map(u=>{const i=s.findIndex(x=>x._id===u);i>-1&&s.splice(i,1)}),d.setState({users:s}),n},ne=async({active:a,current:n,size:s,name:u,role:i})=>{const x=await m(),C=d.getState("users"),j=s*(n-1);let D=[];if(a!=null?D=C.filter(l=>l.active==a):D=[...C],i!=null&&(D=D.filter(l=>l.role===i)),u){const l=new RegExp(u,"gi");D=D.filter(I=>I.name.toString().match(l))}const r=D.slice(j,j+s);return{...x,result:{current:n,size:s,total:D.length,list:r}}},oe=async()=>{const a=await m(),n=d.getState("routers");return{...a,result:n}},S=async a=>{const n=await m(),s=d.getState("routers"),u={...a,_id:(0,h.gZm)()};return s.push(u),d.setState({routers:s}),{...n,result:u}},ue=async a=>{const n=await m(),s=d.getState("routers");let u=s.find(i=>i._id===a._id);return u&&(u={...u,...a},d.setState({routers:s})),{...n,result:a}},te=async a=>{const n=await m(),s=d.getState("routers"),u=s.findIndex(i=>i._id===a._id);return u>-1&&(s.splice(u,1),d.setState({routers:s})),n},X=async()=>{const a=await m(),n=d.getState("authedRouter")||[];return{...a,result:n}},se=async a=>{const n=await m(),s=d.getState("authedRouter")||[],u=[...new Set([...s,...a?.authKeys??[]])];return d.setState({authedRouter:u}),{...n,result:u}};var E=t(65361);const p=()=>({render:a=>(0,o.jsx)(E.A,{children:a})});var B=(a,n,s=p())=>a.map(u=>({...s,...u,...n?.find(({dataIndex:i})=>i===u.dataIndex)}));const _=({index:a,style:n,item:s,isItemLoaded:u})=>{let i;return u(a)?i=s.name:i="Loading...",(0,o.jsx)("div",{style:{...n,borderBottom:"1px solid #333"},children:(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:i})})},Y=e,de=B,ae=_,g=[{key:1,value:"\u5DF2\u6FC0\u6D3B"},{key:0,value:"\u672A\u6FC0\u6D3B"}],P=[{type:"input",name:"name",label:"\u7528\u6237\u540D",props:{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0,style:{width:"120px"}}},{type:"select",name:"role",label:"\u7B49\u7EA7",props:{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:"100px"},options:M.r9}}],R=(a,n)=>[{key:"add",type:"primary",label:"\u65B0\u589E",action:a.handleAdd},{key:"export",type:"default",label:"\u5BFC\u51FA",action:a.handleExport},{key:"handleDelete",type:"default",label:"\u6279\u91CF\u5220\u9664",action:a.handleDelete,disabled:n}],U=[{key:"handleCheck",type:"link",label:"\u8BBE\u7F6E"},{key:"handleEdit",type:"link",label:"\u7F16\u8F91"},{key:"handleDelete",type:"link",label:"\u5220\u9664"}],W=[{dataIndex:"name",title:"\u7528\u6237\u540D"},{dataIndex:"email",title:"\u90AE\u7BB1"},{dataIndex:"active",title:"\u72B6\u6001"},{dataIndex:"github",title:"\u7ED1\u5B9AGitHub"},{dataIndex:"role",title:"\u7B49\u7EA7"},{dataIndex:"updatetime",title:"\u66F4\u65B0\u65F6\u95F4"},{dataIndex:"updater",title:"\u66F4\u65B0\u4EBA"},{dataIndex:"action",title:"\u64CD\u4F5C",align:"center"}],b=a=>[{dataIndex:"name",render:(n,s)=>(0,o.jsx)("span",{className:"link",onClick:()=>a.handleCheck(s),children:n})},{dataIndex:"email",render:n=>n.replace(/\S+(@\S+)/,"*****$1")},{dataIndex:"active",render:n=>n?(0,o.jsx)(y.A,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,o.jsx)(y.A,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"github",render:n=>n?(0,o.jsx)(y.A,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,o.jsx)(y.A,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"role",render:(n,s)=>M.r9.find(u=>u.value===n)?.label??"-"},{dataIndex:"updatetime",render:(n,s)=>{const u=n||s.createtime||s.signuptime||+new Date;return(0,h.fUm)(new Date(u))}},{dataIndex:"updater",render:(n,s)=>n||s.creator},{dataIndex:"action",render:(n,s)=>{const i=Object.keys(a).map(x=>({...U.find(C=>C.key===x),action:a[x]}));return(0,o.jsx)(O.A,{children:i.map(({key:x,action:C,type:j,label:D})=>(0,o.jsx)(c.Ay,{type:j,size:"small",disabled:!1,danger:x==="handleDelete",onClick:()=>C(s),children:D},x))})}}]}}]);

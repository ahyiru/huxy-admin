(self.webpackChunk=self.webpackChunk||[]).push([[167],{33440:function($,i,e){var t=e(24246),o=e(74335);const n=({style:a,children:s,...D})=>(0,t.jsx)(o.s_,{style:{background:"var(--panelBgColor)",...a},...D,children:s});i.Z=n},26034:function($,i,e){var t=e(24246),o=e(58476),n=e(56591),a=e(74335),s=e(71090);const D={gutter:[12,12],style:{}},x={xl:2,lg:3,md:3,sm:4,xs:6},f=O=>{const{submit:A,loading:I,children:v,handler:u,initialValues:c,...d}=O,[h]=o.Z.useForm();return(0,t.jsx)("div",{className:"sm-form-style",...d,children:(0,t.jsx)(o.Z,{layout:"inline",form:h,initialValues:c,onFinish:_=>A((0,s.yfi)(_)),style:{width:"100%"},children:(0,t.jsxs)(a.rj,{rowProps:D,colProps:x,children:[(0,t.jsx)("div",{itemprops:{style:{flex:"1 0 auto"},xs:12},children:u}),v,(0,t.jsxs)("div",{itemprops:{style:{maxWidth:"176px"}},style:{float:"right"},children:[(0,t.jsx)(n.ZP,{loading:I,type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(n.ZP,{style:{marginLeft:"12px"},onClick:()=>h.resetFields(),children:"\u91CD\u7F6E"})]})]})})})};i.Z=f},30617:function($,i,e){e.d(i,{Z:function(){return D}});var t=e(27378),o=e(18124),a=(x,f=null,O,A=null)=>{const[I,v]=(0,o.r5)({}),u=(0,t.useCallback)(d=>x&&v({res:x({...A,...d})},O),[]);(0,t.useEffect)(()=>{u({...f})},[]);const{res:c}=I;return[{pending:c?.pending,data:c?.result},u]},D=(x,f=null,O,A=null)=>{const{current:I,size:v,...u}=f||{},c=(0,t.useRef)(u||{}),d=(0,t.useRef)({current:I||1,size:v||10}),[h,_]=a(x,{...d.current,...c.current},O,A);return[h,p=>{const{current:E,size:W,...S}=p||{};d.current={current:E??d.current.current,size:W??d.current.size},c.current={...c.current,...S},_({...d.current,...c.current})},(p,E)=>{d.current={current:p,size:E},_({...d.current,...c.current})},p=>{c.current=p,d.current={...d.current,current:1},_({...d.current,...c.current})}]}},8975:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(34189),a=e(99074),s=e(56591),D=e(17494),x=e(65292),f=e(59059),O=e(58476),A=e(31734),I=e(27338),v=e(16864),u=e(27985),c=e(75838),d=e(74335),h=e(71090),_=e(30617),T=e(26034),R=e(33440),L=e(16426),p=e(2385);const{listMessageFn:E,deleteMessageFn:W,readMessageFn:S}=p.default,F=[{label:"\u672A\u8BFB",value:0},{label:"\u5DF2\u8BFB",value:1}],U=({handleAudit:M,handleDelete:r},m,l)=>[{title:"\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u4E3B\u9898",dataIndex:"title",ellipsis:!0},{title:"\u5185\u5BB9",dataIndex:"context",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:j=>(0,t.jsx)(n.Z,{color:j?"blue":"yellow",children:j?"\u5DF2\u8BFB":"\u672A\u8BFB"})},...m?[{title:"\u5DF2\u8BFB\u7528\u6237",dataIndex:"reader",ellipsis:!0},{title:"\u63A5\u6536\u7528\u6237",dataIndex:"receiver",ellipsis:!0}]:[],{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(j,C)=>{const V=j||C.createtime||+new Date,K=(0,h.mrB)(new Date(V));return(0,t.jsx)(a.Z,{title:K,children:K})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(j,C)=>j||C.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",fixed:"right",render:(j,C)=>(0,t.jsxs)(t.Fragment,{children:[l?null:(0,t.jsx)(s.ZP,{type:"link",size:"small",disabled:C.status,onClick:()=>M(C),children:"\u6807\u8BB0\u4E3A\u5DF2\u8BFB"}),m?(0,t.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>r(C),danger:!0,children:"\u5220\u9664"}):null]})}],y=M=>{const m=(L.xZ.getState()||{}).role===5,[l,j]=(0,o.useState)([]),[C,V]=(0,o.useState)(0),K=M.params,[Q,X,J,q]=(0,_.Z)(E,{current:K?.current,size:K?.size},null,{status:C}),tt=P=>{const g=P?[P]:l,H=g.map(Y=>Y._id),k=g.length>1?`(\u5171 ${g.length} \u9879)`:"";D.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${k}`,icon:(0,t.jsx)(v.Z,{}),content:`label: ${g.map(Y=>Y.title)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:Y,message:nt}=await W({ids:H});Y===200&&(h.ywV.success(nt),j([]),X({current:1}))},onCancel(){}})},et=async P=>{const H=(P?[P]:l).map(nt=>nt._id),{code:k,message:Y}=await S({ids:H});k===200&&(j([]),X({current:1}),L.Ou.setState(nt=>nt-H.length))},st=P=>{const{value:g}=P.target;V(g),X({current:1,status:g})},ut=C&&!m?null:{selectedRowKeys:l.map(P=>P._id),onChange:(P,g)=>{j(g)},getCheckboxProps:P=>({}),columnWidth:"30px",fixed:!0};let G=U({handleDelete:tt,handleAudit:et},m,C);G=C&&!m?G.slice(0,-1):G;const{pending:w,data:B}=Q,{total:Z,current:N,size:z,list:b}=B||{},lt={onShowSizeChange:(P,g)=>J(P,g),onChange:(P,g)=>J(P,g),showSizeChanger:!0,showQuickJumper:!0,total:Z||1,current:N||1,pageSize:z||10,pageSizeOptions:["10","20","30","40"]};return(0,t.jsx)("div",{children:(0,t.jsxs)(d.X2,{children:[(0,t.jsx)(d.JX,{children:(0,t.jsx)(R.Z,{children:(0,t.jsx)(T.Z,{submit:q,loading:w,handler:(0,t.jsxs)(x.Z,{size:"small",children:[(0,t.jsx)(f.ZP.Group,{optionType:"button",buttonStyle:"solid",options:F,onChange:st,value:C}),(0,t.jsxs)(t.Fragment,{children:[C?null:(0,t.jsx)(s.ZP,{loading:w,disabled:!l.length,onClick:()=>et(),type:"primary",icon:(0,t.jsx)(u.Z,{}),children:"\u6279\u91CF\u6807\u8BB0"}),m?(0,t.jsx)(s.ZP,{loading:w,disabled:!l.length,onClick:()=>tt(),icon:(0,t.jsx)(c.Z,{}),children:"\u6279\u91CF\u5220\u9664"}):null]})]}),children:(0,t.jsx)(O.Z.Item,{name:"title",label:"\u4E3B\u9898",children:(0,t.jsx)(A.Z,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,t.jsx)(d.JX,{children:(0,t.jsx)(R.Z,{children:(0,t.jsx)(I.Z,{pagination:lt,rowSelection:ut,columns:G,dataSource:b??[],loading:w,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=y},72539:function($,i,e){e.r(i),e.d(i,{default:function(){return v}});var t=e(24246),o=e(27378),n=e(17494),a=e(56591),s=e(74335),D=e(71090),x=e(4645),f=e(16426),O=e(2385),A={},v=u=>{const c=f.xZ.getState()||{},d=async({type:h,label:_})=>{const{payCount:T}=c??{},R=T?`\u60A8\u8FD8\u5269\u4F59 ${T} \u6B21\u804A\u5929\u673A\u4F1A\uFF0C\u5F00\u901A\u65B0\u4F1A\u5458\u540E\u4F1A\u5C06\u5269\u4F59\u6B21\u6570\u7D2F\u52A0\u81F3\u65B0\u4F1A\u5458\u3002`:"";n.Z.confirm({title:"\u8BA2\u5355\u786E\u8BA4",content:`${R}\u786E\u5B9A\u5F00\u901A ${_}\u4F1A\u5458 \u5417\uFF1F`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:L,message:p,info:E}=await O.default.addPayerFn({type:h});L===200&&(D.ywV.success(p),u.router.push({path:"/payer/count/pay",state:{info:E}}))}})};return(0,t.jsx)("div",{children:(0,t.jsx)(s.X2,{gutter:20,children:x.QN.map(({type:h,label:_,price:T,period:R,count:L,description:p})=>(0,t.jsx)(s.JX,{span:4,xs:12,children:(0,t.jsxs)("div",{className:"count-card",children:[(0,t.jsx)("h4",{className:"order-title",children:_}),(0,t.jsxs)("p",{className:"order-info",children:["\u6709\u6548\u671F ",R," \u4E2A\u6708"]}),(0,t.jsxs)("p",{className:"order-info",children:["\u5BF9\u8BDD\u6B21\u6570 ",L," \u6B21"]}),p.split(`

`).map((E,W)=>(0,t.jsx)("p",{className:"order-desc",children:E},`des-${W}`)),(0,t.jsxs)("p",{className:"order-cost",children:[(0,t.jsx)("span",{children:"\u6D88\u8D39\uFF1A"}),(0,t.jsxs)("span",{className:"cost-num",children:["\xA5 ",T]})]}),(0,t.jsx)(a.ZP,{type:"primary",style:{width:"120px",paddingBottom:"15px"},onClick:E=>d({type:h,label:_}),children:"\u5F00\u901A"})]})},h))})})}},16365:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(34189),a=e(99074),s=e(56591),D=e(17494),x=e(65292),f=e(58476),O=e(31734),A=e(27338),I=e(16864),v=e(74335),u=e(71090),c=e(30617),d=e(26034),h=e(2385),_=e(33440),T=e(16426);const{listPayerFn:R,deletePayerFn:L,auditPayerFn:p,cancelPayerFn:E}=h.default,W=({handleDelete:F,handleAudit:U,handlePay:y,handleCancel:M},r)=>[{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",ellipsis:!0},{title:"\u8BA2\u5355\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u540D\u79F0",dataIndex:"label",ellipsis:!0},{title:"\u6D88\u8D39",dataIndex:"price",ellipsis:!0,render:m=>`${m} \u5143`},{title:"\u6709\u6548\u671F",dataIndex:"period",ellipsis:!0,render:m=>`${m} \u4E2A\u6708`},{title:"\u6B21\u6570",dataIndex:"count",ellipsis:!0,render:m=>`${m} \u6B21`},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:(m,l)=>(0,t.jsx)(n.Z,{color:l.deleted?"yellow":m?"green":"red",children:l.deleted?"\u5DF2\u5931\u6548":m?"\u5DF2\u5BA1\u6838":"\u672A\u5BA1\u6838"})},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(m,l)=>{const j=m||l.createtime||+new Date,C=(0,u.mrB)(new Date(j));return(0,t.jsx)(a.Z,{title:C,children:C})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(m,l)=>m||l.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",render:(m,l)=>r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.ZP,{type:"link",size:"small",disabled:!!l.status||l.deleted,onClick:()=>U(l),children:"\u5BA1\u6838"}),(0,t.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>F(l),danger:!0,children:"\u5220\u9664"})]}):l.status?(0,t.jsx)(s.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u652F\u4ED8"}):l.deleted?(0,t.jsx)(s.ZP,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u5931\u6548"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>M(l),children:"\u53D6\u6D88\u8BA2\u5355"}),(0,t.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>y(l),children:"\u53BB\u652F\u4ED8"})]})}],S=F=>{const U=T.xZ.getState()||{},{role:y,payCount:M}=U,r=F.history.getState()?.backState,m=F.history.getState()?.item,[l,j]=(0,o.useState)([]),C=F.params,[V,K,Q,X]=(0,c.Z)(R,{current:C?.current,size:C?.size}),J=P=>{F.router.push({path:"/payer/count/pay",state:{info:P}})},q=P=>{F.router.push({path:`./edit/${P._id}`,state:{item:P,backState:{path:F.path,params:{current:N,size:z},state:{item:m,backState:r}}}})},tt=async()=>{F.router.push("./add")},G=W({handlePay:J,handleDelete:P=>{const g=P?[P]:l,H=g.length>1?`(\u5171 ${g.length} \u9879)`:"";D.Z.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${H}`,icon:(0,t.jsx)(I.Z,{}),content:`orderNo: ${g.map(k=>k.orderNo)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:k,message:Y}=await L({items:g});k===200&&(u.ywV.success(Y),j([]),K({current:1}))},onCancel(){}})},handleAudit:async P=>{const{code:g,message:H}=await p(P);g===200&&(u.ywV.success(H),K({current:1}))},handleCancel:async P=>{const{code:g,message:H}=await E(P);g===200&&(u.ywV.success(H),K({current:1}))}},y===5),{pending:w,data:B}=V,{total:Z,current:N,size:z,list:b}=B||{},lt={onShowSizeChange:(P,g)=>Q(P,g),onChange:(P,g)=>Q(P,g),showSizeChanger:!0,showQuickJumper:!0,total:Z||1,current:N||1,pageSize:z||10,pageSizeOptions:["10","20","30","40"]};return(0,t.jsx)("div",{children:(0,t.jsxs)(v.X2,{children:[(0,t.jsx)(v.JX,{children:(0,t.jsx)(_.Z,{children:(0,t.jsx)(d.Z,{submit:X,loading:w,handler:(0,t.jsxs)(x.Z,{size:"small",children:[M?(0,t.jsx)(s.ZP,{loading:w,onClick:()=>F.router.push("http://chat.ihuxy.com"),type:"primary",children:"\u53BB\u804A\u5929"}):(0,t.jsx)(s.ZP,{loading:w,onClick:()=>F.router.push("/payer/count/member"),type:"primary",children:"\u5F00\u901A\u4F1A\u5458"}),(0,t.jsx)(s.ZP,{loading:w,onClick:()=>F.router.push("/chatbot"),children:"\u53BB\u8BD5\u7528"})]}),children:(0,t.jsx)(f.Z.Item,{name:"order",label:"\u8BA2\u5355\u53F7",children:(0,t.jsx)(O.Z,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,t.jsx)(v.JX,{children:(0,t.jsx)(_.Z,{children:(0,t.jsx)(A.Z,{pagination:lt,columns:G,dataSource:b??[],loading:w,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=S},85456:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(58476),a=e(31734),s=e(56591),D=e(45479),x=e(42702),f=e(95648),O=e(47199),A=e(69640),I=e(74335),v=e(18124),u=e(71090),c=e(34881),d=e(57651),h=e(2385),_=e(50663);const{activeEmailFn:T,githubFn:R,wechatFn:L,loginFn:p,qrStatusFn:E}=h.default,{emailRule:W}=_.formRules,S={textAlign:"center",fontSize:"3.6rem"},F={position:"fixed",left:0,top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.8rem",background:"#fcfcfc",color:"#43a047",fontWeight:500,zIndex:3};let U=0;const y=M=>{const r=(0,d.kn)(),[m,l]=(0,o.useState)(!1),j=(0,o.useRef)(),C=(0,v.PQ)(),{state:V,code:K,token:Q}=M.params??{},X=V?.indexOf("scan0")===0;(0,o.useEffect)(()=>{if(K){st(K,V);return}if(Q){ut(Q);return}(0,c.pt)()&&M.router.push("/")},[]);const J=B=>{j.current=B,U=0,C()},q=async B=>{if(!j.current)return;if(U>40){J(),u.ywV.error("\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),U=0;return}const Z=await E({status:B});if(Z.status){if(J(),Z.status==="error"){u.ywV.error("\u767B\u5F55\u5931\u8D25\uFF01");return}u.ywV.success("\u767B\u5F55\u6210\u529F\uFF01"),u.tOc.set("token",Z.status),(0,c.a0)()}else U++,await(0,u._vH)(1200),q(B)},tt=async B=>{const{wechat_oauth_url:Z,...N}=_._Z,z=`${Z}${(0,u.nL5)({...N,state:B})}#wechat_redirect`;try{const b=await A.toDataURL(z);J(b)}catch(b){console.error(b)}},et=async()=>{const B=`scan0${(0,u.k$y)().replaceAll("-","0")}`;await tt(B),q(B)},st=async(B,Z)=>{l(!0);const N=Z?L:R;try{const{token:z}=await N({code:B,state:Z});z?(u.tOc.set("token",z),(0,c.a0)()):(l(!1),setTimeout(()=>WeixinJSBridge.call("closeWindow"),1e3))}catch{}l(!1)},ut=async B=>{l(!0);try{const{code:Z,token:N,message:z}=await T({token:B});Z===200&&(u.ywV.success(z),u.tOc.set("token",N),(0,c.a0)())}catch{}l(!1)},at=async B=>{l(!0);try{const{code:Z,token:N,message:z}=await p(B);Z===200&&(u.ywV.success(z),u.tOc.set("token",N),(0,c.a0)())}catch{(0,c.a0)()}l(!1)},G=()=>{const{github_oauth_url:B,github_client_id:Z}=_.githubConfigs;location.href=`${B}?client_id=${Z}`},w=()=>{const{wechat_oauth_url:B,...Z}=_._Z;location.href=`${B}${(0,u.nL5)(Z)}#wechat_redirect`};return X?(0,t.jsx)("div",{style:F,children:m?"\u6B63\u5728\u767B\u5F55...":"\u767B\u5F55\u6210\u529F\uFF01"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Z,{name:"login",initialValues:{},onFinish:at,autoComplete:"off",children:[(0,t.jsx)(n.Z.Item,{name:"email",rules:W,children:(0,t.jsx)(a.Z,{prefix:(0,t.jsx)(D.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:r("login.email")})}),(0,t.jsx)(n.Z.Item,{name:"password",children:(0,t.jsx)(a.Z.Password,{prefix:(0,t.jsx)(x.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:r("login.password"),autoComplete:"new-password"})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(s.ZP,{block:!0,type:"primary",htmlType:"submit",children:r("login.login")})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(s.ZP,{block:!0,onClick:()=>at({email:"test1@zys.com",password:"test1234"}),children:r("login.visitor")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{overflow:"hidden"},children:[(0,t.jsx)("span",{className:"link",style:{float:"right"},onClick:B=>M.router.push("/user/signup"),children:r("login.signup")}),(0,t.jsx)("span",{className:"link",style:{float:"left"},onClick:B=>M.router.push("/user/verifyEmail"),children:r("login.forgetPwd")})]}),(0,t.jsx)("div",{className:"split-line",style:{padding:"15px 0"},children:r("login.thirdParty")}),(0,t.jsxs)("div",{style:S,children:[(0,t.jsx)("span",{className:"link",children:(0,t.jsx)(f.Z,{onClick:()=>G()})}),(0,t.jsx)("span",{className:"link",style:{marginLeft:"3rem",color:"#8ae14d"},children:(0,t.jsx)(O.Z,{onClick:()=>(0,u.CLv)()?w():et()})})]}),(0,t.jsx)(I.zd,{open:j.current,close:B=>J(),children:j.current?(0,t.jsxs)("div",{style:{width:"85%",maxWidth:"35rem",textAlign:"center",background:"#333",padding:"15px 20px",color:"#fff",fontWeight:500},children:[(0,t.jsx)("h2",{style:{margin:0},children:"\u5FAE\u4FE1\u767B\u5F55"}),(0,t.jsx)("div",{style:{padding:"20px"},children:(0,t.jsx)("img",{width:"100%",src:j.current,alt:"qr"})}),(0,t.jsx)("p",{style:{margin:"0 20px",marginBottom:0,height:"32px",lineHeight:"32px",background:"#232323",borderRadius:"16px"},children:"\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u626B\u63CF\u4E8C\u7EF4\u7801\u767B\u5F55"})]}):(0,t.jsx)("div",{style:{color:"#43a047",fontWeight:500,fontSize:"3rem"},children:"\u767B\u5F55\u4E2D..."})})]}),m&&(0,t.jsx)(I.$j,{global:!0})]})};i.default=y},56403:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(58476),a=e(74945),s=e(65292),D=e(56591),x=e(31734),f=e(19400),O=e(36212),A=e(45479),I=e(61872),v=e(16935),u=e(42702),c=e(71090),d=e(2385),h=e(34596),_=e(33440),T=e(16426),R=e(57651),L=e(4645);const p={padding:"10px 20px",width:"100%",maxWidth:"600px"},E=W=>{const[S,F]=(0,o.useState)(!1),U=(0,R.kn)(),y=U("main.users.profilePageText.profile",{}),M=U("main.users.profilePageText.upProfile",{}),r=T.xZ.getState(),[m]=n.Z.useForm(),l=async K=>{F(!0);const{code:Q,message:X}=await d.default.upProfileFn(K);F(!1),Q===200&&(c.ywV.success(X),window.location.reload())},j=L.Uy.find(K=>K.value===r.role)?.label??"\u666E\u901A\u7528\u6237",C=r.deadline?Math.floor((r.deadline-new Date)/864e5):0,V=[{key:"1",label:y.title,children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)("div",{style:p,children:(0,t.jsxs)(n.Z,{name:"profile",className:"sm-form-style",children:[(0,t.jsx)(n.Z.Item,{name:"name",label:y.name,children:(0,t.jsx)(a.Z.Text,{children:r.name})}),(0,t.jsx)(n.Z.Item,{name:"email",label:y.email,children:(0,t.jsx)(a.Z.Text,{children:r.email})}),(0,t.jsx)(n.Z.Item,{name:"active",label:y.active,children:(0,t.jsx)(a.Z.Text,{children:r.active?y.active_true:y.active_false})}),(0,t.jsx)(n.Z.Item,{name:"projectName",label:y.projectName,children:(0,t.jsx)(a.Z.Text,{children:r.projectName})}),(0,t.jsx)(n.Z.Item,{name:"role",label:y.role,children:(0,t.jsx)(a.Z.Text,{children:j})}),C?(0,t.jsx)(n.Z.Item,{name:"leftDate",label:"\u5305\u6708\u4F1A\u5458\u5269\u4F59\u65F6\u95F4",children:(0,t.jsxs)(a.Z.Text,{children:[C," \u5929"]})}):null,r.payCount?(0,t.jsx)(n.Z.Item,{name:"payCount",label:"\u5305\u6B21\u4F1A\u5458\u5269\u4F59\u6B21\u6570",children:(0,t.jsxs)(a.Z.Text,{children:[r.payCount," \u6B21"]})}):null]})}),(0,t.jsxs)(s.Z,{align:"center",style:{width:"140px"},children:[r.role===0?(0,t.jsx)(D.ZP,{block:!0,type:"primary",icon:(0,t.jsx)(O.Z,{}),size:"large",onClick:K=>W.router.push("/payer/count/member"),children:"\u5F00\u901A\u4F1A\u5458"}):null,r.role>0?(0,t.jsx)(D.ZP,{block:!0,type:"primary",icon:(0,t.jsx)(O.Z,{}),size:"large",onClick:K=>W.router.push("/payer/month/member"),children:"\u4F1A\u5458\u7EED\u8D39"}):null]})]})},{key:"2",label:M.title,children:(0,t.jsx)("div",{style:p,children:(0,t.jsxs)(n.Z,{name:"upProfile",className:"sm-form-style",form:m,autoComplete:"off",initialValues:r,onFinish:l,children:[(0,t.jsx)(n.Z.Item,{name:"name",rules:h.nameRule,children:(0,t.jsx)(x.Z,{prefix:(0,t.jsx)(A.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:M.name})}),(0,t.jsx)(n.Z.Item,{name:"avatar",rules:h.urlRule,children:(0,t.jsx)(x.Z,{prefix:(0,t.jsx)(I.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:"\u5934\u50CF"})}),(0,t.jsx)(n.Z.Item,{name:"email",rules:h.emailRule,children:(0,t.jsx)(x.Z,{disabled:!0,prefix:(0,t.jsx)(v.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:M.email})}),(0,t.jsx)(n.Z.Item,{name:"password",rules:h.passwordRule,children:(0,t.jsx)(x.Z.Password,{prefix:(0,t.jsx)(u.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:M.password,autoComplete:"new-password"})}),(0,t.jsxs)(n.Z.Item,{children:[(0,t.jsx)(D.ZP,{type:"primary",htmlType:"submit",children:M.submit}),(0,t.jsx)(D.ZP,{disabled:S,style:{marginLeft:"12px"},onClick:()=>m.setFieldsValue({name:"",password:""}),children:M.reset})]})]})})}];return(0,t.jsx)(_.Z,{children:(0,t.jsx)(f.Z,{type:"card",items:V})})};i.default=E},77576:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(58476),a=e(31734),s=e(56591),D=e(42702),x=e(17277),f=e(71090),O=e(57651),A=e(34881),I=e(50663),v=e(2385);const{passwordRule:u,confirmRule:c}=I.formRules,d=h=>{const _=(0,O.kn)(),[T,R]=(0,o.useState)(!1),L=async p=>{R(!0);try{const E=h.params?.token,{code:W,token:S,message:F}=await v.default.setNewPwdFn({password:p.password,token:E});W===200&&(f.ywV.success(F),(0,A.a0)())}catch{}R(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Z,{name:"setNewPwd",autoComplete:"off",onFinish:L,children:[(0,t.jsx)(n.Z.Item,{name:"password",rules:u,children:(0,t.jsx)(a.Z.Password,{prefix:(0,t.jsx)(D.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:_("login.password"),autoComplete:"new-password"})}),(0,t.jsx)(n.Z.Item,{name:"confirm",rules:c,children:(0,t.jsx)(a.Z.Password,{prefix:(0,t.jsx)(D.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:_("login.confirmPwd"),autoComplete:"new-password"})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(s.ZP,{block:!0,type:"primary",htmlType:"submit",disabled:T,children:_("login.resetPwd")})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)(s.ZP,{onClick:p=>h.router.push("/user/signin"),type:"link",size:"small",icon:(0,t.jsx)(x.Z,{}),children:_("login.backLogin")})})})]})};i.default=d},69478:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(58476),a=e(31734),s=e(56591),D=e(22467),x=e(45479),f=e(16935),O=e(42702),A=e(17277),I=e(71090),v=e(57651),u=e(34881),c=e(50663),d=e(2385);const{nameRule:h,emailRule:_,passwordRule:T,confirmRule:R}=c.formRules,L=p=>{const E=(0,v.kn)(),[W,S]=(0,o.useState)(!1),[F,U]=(0,o.useState)(!1),y=async M=>{U(!0);try{const{code:r,message:m}=await d.default.signupFn(M);r===200&&(I.ywV.success(m),S(!0))}catch{}U(!1)};return W?(0,t.jsx)("div",{style:{background:"#ccc",borderRadius:"4px"},children:(0,t.jsx)(D.ZP,{status:"success",title:E("login.signup_msg"),subTitle:E("login.signup_sub_msg"),extra:(0,t.jsx)(s.ZP,{type:"primary",onClick:()=>(0,u.a0)(),children:E("login.backLogin")},"back")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Z,{name:"signup",autoComplete:"off",onFinish:y,children:[(0,t.jsx)(n.Z.Item,{name:"name",rules:h,children:(0,t.jsx)(a.Z,{prefix:(0,t.jsx)(x.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:E("login.username")})}),(0,t.jsx)(n.Z.Item,{name:"email",rules:_,children:(0,t.jsx)(a.Z,{prefix:(0,t.jsx)(f.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:E("login.email")})}),(0,t.jsx)(n.Z.Item,{name:"password",rules:T,children:(0,t.jsx)(a.Z.Password,{prefix:(0,t.jsx)(O.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:E("login.password"),autoComplete:"new-password"})}),(0,t.jsx)(n.Z.Item,{name:"confirm",rules:R,children:(0,t.jsx)(a.Z.Password,{prefix:(0,t.jsx)(O.Z,{style:{marginRight:"7px",color:"#999"}}),type:"password",placeholder:E("login.confirmPwd"),autoComplete:"new-password"})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(s.ZP,{block:!0,type:"primary",htmlType:"submit",disabled:F,children:E("login.signup")})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)(s.ZP,{onClick:M=>p.router.push("/user/signin"),type:"link",size:"small",icon:(0,t.jsx)(A.Z,{}),children:E("login.backLogin")})})})]})};i.default=L},72365:function($,i,e){e.r(i);var t=e(24246),o=e(27378),n=e(58476),a=e(31734),s=e(56591),D=e(22467),x=e(16935),f=e(17277),O=e(71090),A=e(57651),I=e(50663),v=e(2385);const{emailRule:u}=I.formRules,c=d=>{const h=(0,A.kn)(),[_,T]=(0,o.useState)(!1),[R,L]=(0,o.useState)(!1),p=async E=>{L(!0);try{const{code:W,message:S}=await v.default.verifyEmailFn(E);W===200&&(O.ywV.success(S),T(!0))}catch{}L(!1)};return _?(0,t.jsx)("div",{style:{background:"#ccc",borderRadius:"4px"},children:(0,t.jsx)(D.ZP,{status:"success",title:h("login.verifyEmail_msg"),subTitle:h("login.verifyEmail_sub_msg"),extra:(0,t.jsx)(s.ZP,{type:"primary",onClick:()=>location.href="/",children:(0,t.jsx)(A.ZP,{keys:"login.backLogin"})},"back")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Z,{name:"verifyEmail",autoComplete:"off",onFinish:p,children:[(0,t.jsx)(n.Z.Item,{name:"email",rules:u,children:(0,t.jsx)(a.Z,{prefix:(0,t.jsx)(x.Z,{style:{marginRight:"7px",color:"#999"}}),placeholder:h("login.email")})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(s.ZP,{block:!0,type:"primary",htmlType:"submit",children:(0,t.jsx)(A.ZP,{keys:"login.confirmEmail"})})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)(s.ZP,{onClick:E=>d.router.push("/user/signin"),type:"link",size:"small",icon:(0,t.jsx)(f.Z,{}),disabled:R,children:(0,t.jsx)(A.ZP,{keys:"login.backLogin"})})})})]})};i.default=c},4645:function($,i,e){e.d(i,{QN:function(){return t},Uy:function(){return o}});const t=[{type:"vip1",label:"\u57FA\u7840\u7248",price:29,period:3,count:800,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

800 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 3 \u4E2A\u6708\u3002`},{type:"vip2",label:"\u767D\u94F6\u7248",price:39,period:6,count:1500,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

1500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 6 \u4E2A\u6708\u3002`},{type:"vip3",label:"\u9EC4\u91D1\u7248",price:69,period:12,count:3e3,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

3000 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 12 \u4E2A\u6708\u3002`}],o=[{value:0,label:"\u666E\u901A\u7528\u6237",price:0,period:0,name:"general",description:"\u6BCF\u5929 2 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002"},{value:1,label:"\u57FA\u7840\u4F1A\u5458",price:19,period:1,name:"vip1",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 50 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:2,label:"\u767D\u94F6\u4F1A\u5458",price:29,period:1,name:"vip2",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 100 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:3,label:"\u9EC4\u91D1\u4F1A\u5458",price:39,period:1,name:"vip3",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 200 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:4,label:"\u94BB\u77F3\u4F1A\u5458",price:49,period:1,name:"vip4",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 320 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:5,label:"\u8D85\u7EA7\u7BA1\u7406\u5458",price:1e4,period:1e4,name:"vip5",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`}],n=[{value:1,label:"1 \u4E2A\u6708"},{value:3,label:"3 \u4E2A\u6708"},{value:6,label:"6 \u4E2A\u6708"},{value:12,label:"12 \u4E2A\u6708"},{value:24,label:"24 \u4E2A\u6708"}],a=[{value:"get",label:"get"},{value:"post",label:"post"}],s=[{value:"data",label:"data"},{value:"params",label:"params"},{value:"form",label:"form"},{value:"formData",label:"formData"}],D=[{value:0,label:"\u666E\u901A",color:"green"},{value:1,label:"\u91CD\u8981",color:"orange"},{value:2,label:"\u6838\u5FC3",color:"red"}],x={labelCol:{span:4},wrapperCol:{span:16}},f={wrapperCol:{offset:4,span:16}},O={sm:12,xs:12},A={rowKey:"name",pagination:!1,scroll:{x:!0,y:!0},size:"small"}},34596:function($,i,e){e.r(i),e.d(i,{checkVolid:function(){return U},confirmRule:function(){return p},customEmailRule:function(){return S},customNameRule:function(){return W},customPasswordRule:function(){return F},emailRule:function(){return T},nameRule:function(){return _},passwordRule:function(){return R},pathRule:function(){return E},roleRule:function(){return L},titleRule:function(){return d},urlRule:function(){return h}});const t={pattern:/.+/,message:"\u8BF7\u8F93\u5165!"},o={required:!0},n={pattern:/^[\u4E00-\u9FA5A-Za-z0-9_.-\s]{2,32}$/,message:"\u957F\u5EA6\u4E3A2-20\u4E0D\u542B\u7279\u6B8A\u5B57\u7B26!"},a={pattern:/^[\u4E00-\u9FA5A-Za-z0-9_]{2,20}$/,message:"\u957F\u5EA6\u4E3A2-20\u4E0D\u542B\u7279\u6B8A\u5B57\u7B26!"},s={pattern:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E!"},D={pattern:/^(?![a-z]+$)(?![A-Z]+$)(?![\d]+$)[0-9a-zA-Z!@#$_]{8,20}$/,message:"\u5BC6\u7801\u957F\u5EA6\u4E3A8-20\u4E2A\u5B57\u7B26\uFF0C\u5E76\u4E14\u81F3\u5C11\u5305\u542B\u6570\u5B57\u3001\u5927\u5C0F\u5199\u5B57\u6BCD\u4E2D\u7684\u4E24\u79CD\uFF0C\u4E0D\u542B\u9664 !@#$_ \u4EE5\u5916\u7684\u7279\u6B8A\u5B57\u7B26!"},x={pattern:/^https?:\/\/[^\s/?.#]+\.[^\s]+/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u94FE\u63A5\uFF01"},f={pattern:/^(\/[\w#?&=:.-]+)+$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},O={pattern:/^https?:\/\/[^\s/?.#]+\.[^\s]+|^(\/[\w#?&=:.-]+)+$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},A={pattern:/^\d+(?:\.\d+){2}$/,message:"\u7248\u672C\u53F7\u683C\u5F0F\u5FC5\u987B\u4E3AX.Y.Z\uFF01"},I={pattern:/^\/(\w+\/?)*$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},v={pattern:/^\/(\w+\/)*\w+\.\w+$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},u={pattern:/^[a-zA-Z]:\\(?:\w+\\?)*$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},c={pattern:/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u8DEF\u5F84\uFF01"},d=[o,n],h=[x],_=[o,a],T=[o,s],R=[o,D],L=[{type:"number",min:0,max:5,message:"\u53D6\u503C\u8303\u56F40-5!"}],p=[o,({getFieldValue:y})=>({validator(M,r){return y("password")===r?Promise.resolve():Promise.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4!")}})],E=[o,f],W=[t,a],S=[t,s],F=[t,D],U=(y,M)=>{for(let r=0,m=y.length;r<m;r++){const l=y[r];if(!l.pattern.test(M))return l.message}}},50663:function($,i,e){e.d(i,{_Z:function(){return a},formRules:function(){return o},githubConfigs:function(){return n}});var t=e(34596);const o=t,n={github_client_id:"61721ef923095e006d18",github_oauth_url:"https://github.com/login/oauth/authorize"},a={appid:"wx7f4df123f88372a5",wechat_oauth_url:"https://open.weixin.qq.com/connect/oauth2/authorize",redirect_uri:"https://ihuxy.com/user/signin",response_type:"code",scope:"snsapi_base",state:"wechat"}}}]);

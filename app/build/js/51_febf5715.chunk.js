(self.webpackChunk=self.webpackChunk||[]).push([[51],{75051:function(St,Be,N){N.d(Be,{Z:function(){return tt}});var z=N(25773),h=N(64649),Pe=N(33940),k=N(11026),Ge=N(18808),l=N(27378),Ue=N(60042),J=N.n(Ue),L=N(78730),O=N(99664),Ke=N(79986),ce=N(22951),fe=N(91976);function q(){return typeof BigInt=="function"}function ve(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function R(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var a=n||"0",r=a.split("."),s=r[0]||"0",S=r[1]||"0";s==="0"&&S==="0"&&(t=!1);var f=t?"-":"";return{negative:t,negativeStr:f,trimStr:a,integerStr:s,decimalStr:S,fullStr:"".concat(f).concat(a)}}function _(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function Z(e){var n=String(e);if(_(e)){var t=Number(n.slice(n.indexOf("e-")+2)),a=n.match(/\.(\d+)/);return a!=null&&a[1]&&(t+=a[1].length),t}return n.includes(".")&&ee(n)?n.length-n.indexOf(".")-1:0}function H(e){var n=String(e);if(_(e)){if(e>Number.MAX_SAFE_INTEGER)return String(q()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(q()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(Z(n))}return R(n).fullStr}function ee(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Le=function(){function e(n){if((0,ce.Z)(this,e),(0,h.Z)(this,"origin",""),(0,h.Z)(this,"negative",void 0),(0,h.Z)(this,"integer",void 0),(0,h.Z)(this,"decimal",void 0),(0,h.Z)(this,"decimalLen",void 0),(0,h.Z)(this,"empty",void 0),(0,h.Z)(this,"nan",void 0),ve(n)){this.empty=!0;return}if(this.origin=String(n),n==="-"||Number.isNaN(n)){this.nan=!0;return}var t=n;if(_(t)&&(t=Number(t)),t=typeof t=="string"?t:H(t),ee(t)){var a=R(t);this.negative=a.negative;var r=a.trimStr.split(".");this.integer=BigInt(r[0]);var s=r[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return(0,fe.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(a)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,a,r){var s=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),S=this.alignDecimal(s),f=t.alignDecimal(s),b=a(S,f).toString(),g=r(s),v=R(b),p=v.negativeStr,d=v.trimStr,I="".concat(p).concat(d.padStart(g+1,"0"));return new e("".concat(I.slice(0,-g),".").concat(I.slice(-g)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var a=new e(t);return a.isInvalidate()?this:this.cal(a,function(r,s){return r+s},function(r){return r})}},{key:"multi",value:function(t){var a=new e(t);return this.isInvalidate()||a.isInvalidate()?new e(NaN):this.cal(a,function(r,s){return r*s},function(r){return r*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===t?.toString()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":R("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Oe=function(){function e(n){if((0,ce.Z)(this,e),(0,h.Z)(this,"origin",""),(0,h.Z)(this,"number",void 0),(0,h.Z)(this,"empty",void 0),ve(n)){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return(0,fe.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var a=Number(t);if(Number.isNaN(a))return this;var r=this.number+a;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(Z(this.number),Z(a));return new e(r.toFixed(s))}},{key:"multi",value:function(t){var a=Number(t);if(this.isInvalidate()||Number.isNaN(a))return new e(NaN);var r=this.number*a;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(Z(this.number),Z(a));return new e(r.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===t?.toNumber()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":H(this.number):this.origin}}]),e}();function de(e){return q()?new Le(e):new Oe(e)}function W(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var r=R(e),s=r.negativeStr,S=r.integerStr,f=r.decimalStr,b="".concat(n).concat(f),g="".concat(s).concat(S);if(t>=0){var v=Number(f[t]);if(v>=5&&!a){var p=de(e).add("".concat(s,"0.").concat("0".repeat(t)).concat(10-v));return W(p.toString(),n,t,a)}return t===0?g:"".concat(g).concat(n).concat(f.padEnd(t,"0").slice(0,t))}return b===".0"?g:"".concat(g).concat(b)}var E=de,He=N(62477),We=function(){var n=(0,l.useState)(!1),t=(0,k.Z)(n,2),a=t[0],r=t[1];return(0,O.Z)(function(){r((0,He.Z)())},[]),a},Xe=We,je=200,Qe=600;function Ye(e){var n=e.prefixCls,t=e.upNode,a=e.downNode,r=e.upDisabled,s=e.downDisabled,S=e.onStep,f=l.useRef(),b=l.useRef();b.current=S;var g=function(M,T){M.preventDefault(),b.current(T);function j(){b.current(T),f.current=setTimeout(j,je)}f.current=setTimeout(j,Qe)},v=function(){clearTimeout(f.current)};l.useEffect(function(){return v},[]);var p=Xe();if(p)return null;var d="".concat(n,"-handler"),I=J()(d,"".concat(d,"-up"),(0,h.Z)({},"".concat(d,"-up-disabled"),r)),A=J()(d,"".concat(d,"-down"),(0,h.Z)({},"".concat(d,"-down-disabled"),s)),X={unselectable:"on",role:"button",onMouseUp:v,onMouseLeave:v};return l.createElement("div",{className:"".concat(d,"-wrap")},l.createElement("span",(0,z.Z)({},X,{onMouseDown:function(M){g(M,!0)},"aria-label":"Increase Value","aria-disabled":r,className:I}),t||l.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),l.createElement("span",(0,z.Z)({},X,{onMouseDown:function(M){g(M,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:A}),a||l.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function me(e){var n=typeof e=="number"?H(e):R(e).fullStr,t=n.includes(".");return t?R(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var ze=N(74485);function Je(e,n){var t=(0,l.useRef)(null);function a(){try{var s=e.selectionStart,S=e.selectionEnd,f=e.value,b=f.substring(0,s),g=f.substring(S);t.current={start:s,end:S,value:f,beforeTxt:b,afterTxt:g}}catch{}}function r(){if(e&&t.current&&n)try{var s=e.value,S=t.current,f=S.beforeTxt,b=S.afterTxt,g=S.start,v=s.length;if(s.endsWith(b))v=s.length-t.current.afterTxt.length;else if(s.startsWith(f))v=f.length;else{var p=f[g-1],d=s.indexOf(p,g-1);d!==-1&&(v=d+1)}e.setSelectionRange(v,v)}catch(I){(0,ze.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(I.message))}}return[a,r]}var ge=N(94068),qe=function(){var e=(0,l.useRef)(0),n=function(){ge.Z.cancel(e.current)};return(0,l.useEffect)(function(){return n},[]),function(t){n(),e.current=(0,ge.Z)(function(){t()})}},_e=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Ne=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},he=function(n){var t=E(n);return t.isInvalidate()?null:t},Se=l.forwardRef(function(e,n){var t,a=e.prefixCls,r=a===void 0?"rc-input-number":a,s=e.className,S=e.style,f=e.min,b=e.max,g=e.step,v=g===void 0?1:g,p=e.defaultValue,d=e.value,I=e.disabled,A=e.readOnly,X=e.upHandler,F=e.downHandler,M=e.keyboard,T=e.controls,j=T===void 0?!0:T,be=e.stringMode,Q=e.parser,$=e.formatter,C=e.precision,w=e.decimalSeparator,te=e.onChange,ne=e.onInput,re=e.onPressEnter,ae=e.onStep,nt=(0,Ge.Z)(e,_e),pe="".concat(r,"-input"),Y=l.useRef(null),rt=l.useState(!1),Ee=(0,k.Z)(rt,2),Ie=Ee[0],ye=Ee[1],D=l.useRef(!1),B=l.useRef(!1),P=l.useRef(!1),at=l.useState(function(){return E(d??p)}),De=(0,k.Z)(at,2),m=De[0],Re=De[1];function it(u){d===void 0&&Re(u)}var ie=l.useCallback(function(u,i){if(!i)return C>=0?C:Math.max(Z(u),Z(v))},[C,v]),ue=l.useCallback(function(u){var i=String(u);if(Q)return Q(i);var c=i;return w&&(c=c.replace(w,".")),c.replace(/[^\w.-]+/g,"")},[Q,w]),Ze=l.useRef(""),Me=l.useCallback(function(u,i){if($)return $(u,{userTyping:i,input:String(Ze.current)});var c=typeof u=="number"?H(u):u;if(!i){var o=ie(c,i);if(ee(c)&&(w||o>=0)){var y=w||".";c=W(c,y,o)}}return c},[$,ie,w]),ut=l.useState(function(){var u=p??d;return m.isInvalidate()&&["string","number"].includes((0,Pe.Z)(u))?Number.isNaN(u)?"":u:Me(m.toString(),!1)}),Ce=(0,k.Z)(ut,2),G=Ce[0],we=Ce[1];Ze.current=G;function U(u,i){we(Me(u.isInvalidate()?u.toString(!1):u.toString(!i),i))}var x=l.useMemo(function(){return he(b)},[b,C]),V=l.useMemo(function(){return he(f)},[f,C]),xe=l.useMemo(function(){return!x||!m||m.isInvalidate()?!1:x.lessEquals(m)},[x,m]),Ve=l.useMemo(function(){return!V||!m||m.isInvalidate()?!1:m.lessEquals(V)},[V,m]),st=Je(Y.current,Ie),ke=(0,k.Z)(st,2),ot=ke[0],lt=ke[1],Ae=function(i){return x&&!i.lessEquals(x)?x:V&&!V.lessEquals(i)?V:null},se=function(i){return!Ae(i)},oe=function(i,c){var o=i,y=se(o)||o.isEmpty();if(!o.isEmpty()&&!c&&(o=Ae(o)||o,y=!0),!A&&!I&&y){var K=o.toString(),le=ie(K,c);return le>=0&&(o=E(W(K,".",le)),se(o)||(o=E(W(K,".",le,!0)))),o.equals(m)||(it(o),te?.(o.isEmpty()?null:Ne(be,o)),d===void 0&&U(o,c)),o}return m},ct=qe(),Fe=function u(i){if(ot(),we(i),!B.current){var c=ue(i),o=E(c);o.isNaN()||oe(o,!0)}ne?.(i),ct(function(){var y=i;Q||(y=i.replace(/。/g,".")),y!==i&&u(y)})},ft=function(){B.current=!0},vt=function(){B.current=!1,Fe(Y.current.value)},dt=function(i){Fe(i.target.value)},Te=function(i){var c;if(!(i&&xe||!i&&Ve)){D.current=!1;var o=E(P.current?me(v):v);i||(o=o.negate());var y=(m||E(0)).add(o.toString()),K=oe(y,!1);ae?.(Ne(be,K),{offset:P.current?me(v):v,type:i?"up":"down"}),(c=Y.current)===null||c===void 0||c.focus()}},$e=function(i){var c=E(ue(G)),o=c;c.isNaN()?o=m:o=oe(c,i),d!==void 0?U(m,!1):o.isNaN()||U(o,!1)},mt=function(){D.current=!0},gt=function(i){var c=i.which,o=i.shiftKey;D.current=!0,o?P.current=!0:P.current=!1,c===L.Z.ENTER&&(B.current||(D.current=!1),$e(!1),re?.(i)),M!==!1&&!B.current&&[L.Z.UP,L.Z.DOWN].includes(c)&&(Te(L.Z.UP===c),i.preventDefault())},Nt=function(){D.current=!1,P.current=!1},ht=function(){$e(!1),ye(!1),D.current=!1};return(0,O.o)(function(){m.isInvalidate()||U(m,!1)},[C]),(0,O.o)(function(){var u=E(d);Re(u);var i=E(ue(G));(!u.equals(i)||!D.current||$)&&U(u,D.current)},[d]),(0,O.o)(function(){$&&lt()},[G]),l.createElement("div",{className:J()(r,s,(t={},(0,h.Z)(t,"".concat(r,"-focused"),Ie),(0,h.Z)(t,"".concat(r,"-disabled"),I),(0,h.Z)(t,"".concat(r,"-readonly"),A),(0,h.Z)(t,"".concat(r,"-not-a-number"),m.isNaN()),(0,h.Z)(t,"".concat(r,"-out-of-range"),!m.isInvalidate()&&!se(m)),t)),style:S,onFocus:function(){ye(!0)},onBlur:ht,onKeyDown:gt,onKeyUp:Nt,onCompositionStart:ft,onCompositionEnd:vt,onBeforeInput:mt},j&&l.createElement(Ye,{prefixCls:r,upNode:X,downNode:F,upDisabled:xe,downDisabled:Ve,onStep:Te}),l.createElement("div",{className:"".concat(pe,"-wrap")},l.createElement("input",(0,z.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":f,"aria-valuemax":b,"aria-valuenow":m.isInvalidate()?null:m.toString(),step:v},nt,{ref:(0,Ke.sQ)(Y,n),className:pe,value:G,onChange:dt,disabled:I,readOnly:A}))))});Se.displayName="InputNumber";var et=Se,tt=et}}]);

(self.webpackChunk=self.webpackChunk||[]).push([[55],{47977:function(j,i,t){var e=t(62540),a=t(69551),E=t(7003);const u=({children:o,...d})=>(0,e.jsx)(E.gy,{...d,children:(0,e.jsx)(a.A,{placement:"topLeft",title:o,children:o})});i.A=u},87801:function(j,i,t){var e=t(62540),a=t(7003);const E=({style:u,children:o,...d})=>(0,e.jsx)(a.Zk,{style:{background:"var(--panelBgColor)",...u},...d,children:o});i.A=E},26327:function(j,i,t){var e=t(62540),a=t(1338),E=t(75668),u=t(7003),o=t(60608);const d={gutter:[12,12],style:{}},A={xl:2,lg:3,md:3,sm:4,xs:6},_=h=>{const{submit:D,loading:c,children:m,handler:x,initialValues:B,...P}=h,[C]=a.A.useForm();return(0,e.jsx)("div",{className:"sm-form-style",...P,children:(0,e.jsx)(a.A,{layout:"inline",form:C,initialValues:B,onFinish:f=>D((0,o.sy5)(f)),style:{width:"100%"},children:(0,e.jsxs)(u.xA,{rowProps:d,colProps:A,children:[(0,e.jsx)("div",{itemprops:{style:{flex:"1 0 auto"},xs:12},children:x}),m,(0,e.jsxs)("div",{itemprops:{style:{maxWidth:"176px"}},style:{float:"right"},children:[(0,e.jsx)(E.Ay,{loading:c,type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(E.Ay,{style:{marginLeft:"12px"},onClick:()=>C.resetFields(),children:"\u91CD\u7F6E"})]})]})})})};i.A=_},29839:function(j,i,t){var e=t(63696),a=t(87458);const E=(u,o=null,d,A=null)=>{const[_,h]=(0,a.Yb)({}),D=(0,e.useCallback)(m=>u&&h({res:u({...A,...m})},d),[]);(0,e.useEffect)(()=>{D({...o})},[]);const{res:c}=_;return[{pending:c?.pending,data:c?.result},D]};i.A=E},9025:function(j,i,t){var e=t(63696),a=t(29839);const E=(u,o=null,d,A=null)=>{const{current:_,size:h,...D}=o||{},c=(0,e.useRef)(D||{}),m=(0,e.useRef)({current:_||1,size:h||10}),[x,B]=(0,a.A)(u,{...m.current,...c.current},d,A);return[x,s=>{const{current:n,size:l,...r}=s||{};m.current={current:n??m.current.current,size:l??m.current.size},c.current={...c.current,...r},B({...m.current,...c.current})},(s,n)=>{m.current={current:s,size:n},B({...m.current,...c.current})},s=>{c.current=s,m.current={...m.current,current:1},B({...m.current,...c.current})}]};i.A=E},70995:function(j,i,t){t.r(i);var e=t(62540),a=t(63696),E=t(73672),u=t(69551),o=t(75668),d=t(69649),A=t(2258),_=t(2767),h=t(1338),D=t(90588),c=t(92076),m=t(92291),x=t(74415),B=t(6599),P=t(7003),C=t(60608),f=t(9025),s=t(26327),n=t(87801),l=t(11986),r=t(75940);const{listMessageFn:p,deleteMessageFn:L,readMessageFn:U}=r.Ay,g=[{label:"\u672A\u8BFB",value:0},{label:"\u5DF2\u8BFB",value:1}],R=({handleAudit:y,handleDelete:K},O,I)=>[{title:"\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u4E3B\u9898",dataIndex:"title",ellipsis:!0},{title:"\u5185\u5BB9",dataIndex:"context",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:z=>(0,e.jsx)(E.A,{color:z?"blue":"yellow",children:z?"\u5DF2\u8BFB":"\u672A\u8BFB"})},...O?[{title:"\u5DF2\u8BFB\u7528\u6237",dataIndex:"reader",ellipsis:!0},{title:"\u63A5\u6536\u7528\u6237",dataIndex:"receiver",ellipsis:!0}]:[],{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(z,T)=>{const Z=z||T.createtime||+new Date,N=(0,C.fUm)(new Date(Z));return(0,e.jsx)(u.A,{title:N,children:N})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(z,T)=>z||T.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",fixed:"right",render:(z,T)=>(0,e.jsxs)(e.Fragment,{children:[I?null:(0,e.jsx)(o.Ay,{type:"link",size:"small",disabled:T.status,onClick:()=>y(T),children:"\u6807\u8BB0\u4E3A\u5DF2\u8BFB"}),O?(0,e.jsx)(o.Ay,{type:"link",size:"small",onClick:()=>K(T),danger:!0,children:"\u5220\u9664"}):null]})}],W=y=>{const O=(l.PK.getState()||{}).role===5,[I,z]=(0,a.useState)([]),[T,Z]=(0,a.useState)(0),N=y.params,[J,Q,V,k]=(0,f.A)(p,{current:N?.current,size:N?.size},null,{status:T}),Y=M=>{const v=M?[M]:I,b=v.map(H=>H._id),G=v.length>1?`(\u5171 ${v.length} \u9879)`:"";d.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${G}`,icon:(0,e.jsx)(m.A,{}),content:`label: ${v.map(H=>H.title)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:H,message:X}=await L({ids:b});H===200&&(C.iUO.success(X),z([]),Q({current:1}))},onCancel(){}})},F=async M=>{const b=(M?[M]:I).map(X=>X._id),{code:G,message:H}=await U({ids:b});G===200&&(z([]),Q({current:1}),l.d2.setState(X=>X-b.length))},w=M=>{const{value:v}=M.target;Z(v),Q({current:1,status:v})},q=T&&!O?null:{selectedRowKeys:I.map(M=>M._id),onChange:(M,v)=>{z(v)},getCheckboxProps:M=>({}),columnWidth:"30px",fixed:!0};let S=R({handleDelete:Y,handleAudit:F},O,T);S=T&&!O?S.slice(0,-1):S;const{pending:$,data:se}=J,{total:ue,current:ee,size:te,list:ae}=se||{},re={onShowSizeChange:(M,v)=>V(M,v),onChange:(M,v)=>V(M,v),showSizeChanger:!0,showQuickJumper:!0,total:ue||1,current:ee||1,pageSize:te||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(P.fI,{children:[(0,e.jsx)(P.fv,{children:(0,e.jsx)(n.A,{children:(0,e.jsx)(s.A,{submit:k,loading:$,handler:(0,e.jsxs)(A.A,{size:"small",children:[(0,e.jsx)(_.Ay.Group,{optionType:"button",buttonStyle:"solid",options:g,onChange:w,value:T}),(0,e.jsxs)(e.Fragment,{children:[T?null:(0,e.jsx)(o.Ay,{loading:$,disabled:!I.length,onClick:()=>F(),type:"primary",icon:(0,e.jsx)(x.A,{}),children:"\u6279\u91CF\u6807\u8BB0"}),O?(0,e.jsx)(o.Ay,{loading:$,disabled:!I.length,onClick:()=>Y(),icon:(0,e.jsx)(B.A,{}),children:"\u6279\u91CF\u5220\u9664"}):null]})]}),children:(0,e.jsx)(h.A.Item,{name:"title",label:"\u4E3B\u9898",children:(0,e.jsx)(D.A,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(P.fv,{children:(0,e.jsx)(n.A,{children:(0,e.jsx)(c.A,{pagination:re,rowSelection:q,columns:S,dataSource:ae??[],loading:$,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=W},41119:function(j,i,t){t.r(i);var e=t(62540),a=t(63696),E=t(69649),u=t(75668),o=t(7003),d=t(60608),A=t(46645),_=t(11986),h=t(75940),D=t(28205);const c=m=>{const x=_.PK.getState()||{},B=async({type:P,label:C})=>{const{payCount:f}=x??{},s=f?`\u60A8\u8FD8\u5269\u4F59 ${f} \u6B21\u804A\u5929\u673A\u4F1A\uFF0C\u5F00\u901A\u65B0\u4F1A\u5458\u540E\u4F1A\u5C06\u5269\u4F59\u6B21\u6570\u7D2F\u52A0\u81F3\u65B0\u4F1A\u5458\u3002`:"";E.A.confirm({title:"\u8BA2\u5355\u786E\u8BA4",content:`${s}\u786E\u5B9A\u5F00\u901A ${C}\u4F1A\u5458 \u5417\uFF1F`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:n,message:l,info:r}=await h.Ay.addPayerFn({type:P});n===200&&(d.iUO.success(l),m.router.push({path:"/payer/count/pay",state:{info:r}}))}})};return(0,e.jsx)("div",{children:(0,e.jsx)(o.fI,{gutter:20,children:A.rY.map(({type:P,label:C,price:f,period:s,count:n,description:l})=>(0,e.jsx)(o.fv,{span:4,xs:12,children:(0,e.jsxs)("div",{className:"count-card",children:[(0,e.jsx)("h4",{className:"order-title",children:C}),(0,e.jsxs)("p",{className:"order-info",children:["\u6709\u6548\u671F ",s," \u4E2A\u6708"]}),(0,e.jsxs)("p",{className:"order-info",children:["\u5BF9\u8BDD\u6B21\u6570 ",n," \u6B21"]}),l.split(`

`).map((r,p)=>(0,e.jsx)("p",{className:"order-desc",children:r},`des-${p}`)),(0,e.jsxs)("p",{className:"order-cost",children:[(0,e.jsx)("span",{children:"\u6D88\u8D39\uFF1A"}),(0,e.jsxs)("span",{className:"cost-num",children:["\xA5 ",f]})]}),(0,e.jsx)(u.Ay,{type:"primary",style:{width:"120px",paddingBottom:"15px"},onClick:r=>B({type:P,label:C}),children:"\u5F00\u901A"})]})},P))})})};i.default=c},58485:function(j,i,t){t.r(i);var e=t(62540),a=t(63696),E=t(73672),u=t(69551),o=t(75668),d=t(69649),A=t(2258),_=t(1338),h=t(90588),D=t(92076),c=t(92291),m=t(7003),x=t(60608),B=t(9025),P=t(26327),C=t(75940),f=t(87801),s=t(11986);const{listPayerFn:n,deletePayerFn:l,auditPayerFn:r,cancelPayerFn:p}=C.Ay,L=({handleDelete:g,handleAudit:R,handlePay:W,handleCancel:y},K)=>[{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",ellipsis:!0},{title:"\u8BA2\u5355\u7C7B\u578B",dataIndex:"type",ellipsis:!0},{title:"\u540D\u79F0",dataIndex:"label",ellipsis:!0},{title:"\u6D88\u8D39",dataIndex:"price",ellipsis:!0,render:O=>`${O} \u5143`},{title:"\u6709\u6548\u671F",dataIndex:"period",ellipsis:!0,render:O=>`${O} \u4E2A\u6708`},{title:"\u6B21\u6570",dataIndex:"count",ellipsis:!0,render:O=>`${O} \u6B21`},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,align:"center",render:(O,I)=>(0,e.jsx)(E.A,{color:I.deleted?"yellow":O?"green":"red",children:I.deleted?"\u5DF2\u5931\u6548":O?"\u5DF2\u5BA1\u6838":"\u672A\u5BA1\u6838"})},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",ellipsis:!0,render:(O,I)=>{const z=O||I.createtime||+new Date,T=(0,x.fUm)(new Date(z));return(0,e.jsx)(u.A,{title:T,children:T})}},{title:"\u66F4\u65B0\u4EBA",dataIndex:"updater",ellipsis:!0,render:(O,I)=>O||I.creator},{title:"\u64CD\u4F5C",dataIndex:"action",ellipsis:!0,align:"center",render:(O,I)=>K?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Ay,{type:"link",size:"small",disabled:!!I.status||I.deleted,onClick:()=>R(I),children:"\u5BA1\u6838"}),(0,e.jsx)(o.Ay,{type:"link",size:"small",onClick:()=>g(I),danger:!0,children:"\u5220\u9664"})]}):I.status?(0,e.jsx)(o.Ay,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u652F\u4ED8"}):I.deleted?(0,e.jsx)(o.Ay,{type:"link",size:"small",disabled:!0,children:"\u5DF2\u5931\u6548"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Ay,{type:"link",size:"small",onClick:()=>y(I),children:"\u53D6\u6D88\u8BA2\u5355"}),(0,e.jsx)(o.Ay,{type:"link",size:"small",onClick:()=>W(I),children:"\u53BB\u652F\u4ED8"})]})}],U=g=>{const R=s.PK.getState()||{},{role:W,payCount:y}=R,K=g.history.getState()?.backState,O=g.history.getState()?.item,[I,z]=(0,a.useState)([]),T=g.params,[Z,N,J,Q]=(0,B.A)(n,{current:T?.current,size:T?.size}),V=M=>{g.router.push({path:"/payer/count/pay",state:{info:M}})},k=M=>{g.router.push({path:`./edit/${M._id}`,state:{item:M,backState:{path:g.path,params:{current:ee,size:te},state:{item:O,backState:K}}}})},Y=async()=>{g.router.push("./add")},S=L({handlePay:V,handleDelete:M=>{const v=M?[M]:I,b=v.length>1?`(\u5171 ${v.length} \u9879)`:"";d.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${b}`,icon:(0,e.jsx)(c.A,{}),content:`orderNo: ${v.map(G=>G.orderNo)}`,okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:G,message:H}=await l({items:v});G===200&&(x.iUO.success(H),z([]),N({current:1}))},onCancel(){}})},handleAudit:async M=>{const{code:v,message:b}=await r(M);v===200&&(x.iUO.success(b),N({current:1}))},handleCancel:async M=>{const{code:v,message:b}=await p(M);v===200&&(x.iUO.success(b),N({current:1}))}},W===5),{pending:$,data:se}=Z,{total:ue,current:ee,size:te,list:ae}=se||{},re={onShowSizeChange:(M,v)=>J(M,v),onChange:(M,v)=>J(M,v),showSizeChanger:!0,showQuickJumper:!0,total:ue||1,current:ee||1,pageSize:te||10,pageSizeOptions:["10","20","30","40"]};return(0,e.jsx)("div",{children:(0,e.jsxs)(m.fI,{children:[(0,e.jsx)(m.fv,{children:(0,e.jsx)(f.A,{children:(0,e.jsx)(P.A,{submit:Q,loading:$,handler:(0,e.jsxs)(A.A,{size:"small",children:[y?(0,e.jsx)(o.Ay,{loading:$,onClick:()=>g.router.push("https://ihuxy.com/chatbot"),type:"primary",children:"\u53BB\u804A\u5929"}):(0,e.jsx)(o.Ay,{loading:$,onClick:()=>g.router.push("/payer/count/member"),type:"primary",children:"\u5F00\u901A\u4F1A\u5458"}),(0,e.jsx)(o.Ay,{loading:$,onClick:()=>g.router.push("https://ihuxy.com/chatbot"),children:"\u53BB\u8BD5\u7528"})]}),children:(0,e.jsx)(_.A.Item,{name:"order",label:"\u8BA2\u5355\u53F7",children:(0,e.jsx)(h.A,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0})})})})}),(0,e.jsx)(m.fv,{children:(0,e.jsx)(f.A,{children:(0,e.jsx)(D.A,{pagination:re,columns:S,dataSource:ae??[],loading:$,size:"small",bordered:!0,rowKey:"_id",scroll:{x:!0}})})})]})})};i.default=U},51:function(j,i,t){t.d(i,{g:function(){return o}});var e=t(62540),a=t(47977);const E=()=>({render:d=>(0,e.jsx)(a.A,{children:d})}),u=(d,A,_=E())=>d.map(h=>({..._,...h,...A?.find(({dataIndex:D})=>D===h.dataIndex)}));i.A=u;const o=({index:d,style:A,item:_,isItemLoaded:h})=>{let D;return h(d)?D=_.name:D="Loading...",(0,e.jsx)("div",{style:{...A,borderBottom:"1px solid #333"},children:(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:D})})}},25479:function(j,i,t){t.r(i);var e=t(62540),a=t(63696),E=t(69649),u=t(92291),o=t(29958),d=t(54130),A=t(7003),_=t(60608),h=t(9025),D=t(11586),c=t(34518),m=t(2517);const x=B=>{const[P,C]=(0,a.useState)(B.type??"table"),[f,s]=(0,a.useState)(1),[n,l]=(0,a.useState)(""),[r,p]=(0,a.useState)([]),[L,U,g,R]=(0,h.A)(c.lZ.allUser,{current:1,size:10,active:f}),{current:W,size:y}=L.data||{},K=F=>{C(F),U({current:1,size:10,active:f})},O=F=>{s(F),U({current:1,size:10,active:F})},I=F=>{l(F),R(F)},z=F=>{B.router.push({path:`./auth/${F._id}`,state:{item:F,backState:{path:B.path,params:{current:W,size:y}}}})},T=F=>{B.router.push({path:`./edit/${F._id}`,state:{item:F,backState:{path:B.path,params:{current:W,size:y}}}})},Z=F=>{const w=F?[F]:r,q=w.map(S=>S._id),ne=w.length>1?`(\u5171 ${w.length} \u9879)`:"";E.A.confirm({title:`\u786E\u5B9A\u5220\u9664\u5417\uFF1F${ne}`,icon:(0,e.jsx)(u.A,{}),content:`name: ${w.map(S=>S.name)}`,okText:"\u5220\u9664",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{code:S,message:$}=await c.lZ.deleteUser({ids:q});S===200&&(_.iUO.success($),p([]),U({current:1}))},onCancel(){}})},N=()=>{B.router.push("./add")},J=async()=>{const{code:F,message:w}=await c.lZ.export();F===200&&_.iUO.success(w)},Q={selectedRowKeys:r.map(F=>F._id),onChange:(F,w)=>{p(w)}},V={handleCheck:z,handleEdit:T,handleDelete:Z},k={handleAdd:N,handleExport:J,handleDelete:Z},Y={RenderItem:c.gE,columns:(0,c.GH)(c.qd,(0,c.QJ)(V)),result:L,pageChange:g,searchList:I,rowSelection:Q,formList:c.Hc,listType:P,actionList:(0,c.Zt)(k,!r.length),paramsKey:JSON.stringify({...n,active:f})};return(0,e.jsxs)("div",{className:"config-list",children:[(0,e.jsx)(A.tu,{tabs:c.vR,switchTab:O}),(0,e.jsx)(D.A,{...Y}),(0,e.jsxs)("div",{className:"handle-bar",children:[(0,e.jsx)("span",{className:`link${P==="table"?" active":""}`,onClick:F=>K("table"),children:(0,e.jsx)(o.A,{})}),(0,e.jsx)("span",{className:`link${P==="list"?" active":""}`,onClick:F=>K("list"),children:(0,e.jsx)(d.A,{})})]})]})};i.default=x},78310:function(j,i,t){var e=t(62540),a=t(90588),E=t(1624),u=t(2767),o=t(99617),d=t(1338),A=t(2258),_=t(75668),h=t(60608);const D={Input:a.A,Select:E.A,Radio:u.Ay,Checkbox:o.A},c=m=>{const{submit:x,loading:B,searchFormText:P="\u641C\u7D22",reset:C="\u91CD\u7F6E",formList:f=[],compList:s={}}=m,n={...D,compList:s},[l]=d.A.useForm();return(0,e.jsxs)(d.A,{layout:"inline",form:l,initialValues:{},onFinish:r=>x((0,h.sy5)(r)),children:[f.map(r=>{const{type:p,name:L,label:U,props:g,...R}=r,W=typeof p=="string"?n[(0,h.fQM)(p.trim())]:p||(y=>(0,e.jsx)("div",{...y}));return(0,e.jsx)(d.A.Item,{name:L,label:U,...R,children:(0,e.jsx)(W,{...g})},L)}),(0,e.jsx)(d.A.Item,{children:(0,e.jsxs)(A.A,{size:"small",children:[(0,e.jsx)(_.Ay,{loading:B,type:"primary",htmlType:"submit",children:P}),C&&(0,e.jsx)(_.Ay,{onClick:()=>l.resetFields(),children:C})]})})]})};i.A=c},11586:function(j,i,t){var e=t(62540),a=t(2258),E=t(75668),u=t(7003),o=t(87801),d=t(78310),A=t(4085),_=t(66825),h=t(38079);const D={table:A.A,list:_.A,autoSize:h.A},c=({result:m,actionList:x,formList:B,columns:P,RenderItem:C,searchList:f,pageChange:s,rowSelection:n,paramsKey:l,rowKey:r="_id",listType:p})=>{const L=D[p]??D.table;return(0,e.jsxs)(u.fI,{children:[x?.length||B?.length?(0,e.jsx)(u.fv,{children:(0,e.jsxs)(o.A,{children:[x?.length?(0,e.jsx)("div",{style:{float:"left"},children:(0,e.jsx)(a.A,{size:"small",children:x.map(({key:U,type:g,label:R,icon:W,action:y,disabled:K})=>(0,e.jsx)(E.Ay,{loading:m.pending,onClick:O=>y?.(),type:g,icon:W,disabled:K,children:R},U))})}):null,B?.length?(0,e.jsx)("div",{style:{float:"right"},children:(0,e.jsx)(d.A,{formList:B,submit:f,loading:m.pending})}):null]})}):null,(0,e.jsx)(u.fv,{children:(0,e.jsx)(o.A,{children:(0,e.jsx)(L,{result:m,columns:P,RenderItem:C,pageChange:s,rowSelection:n,rowKey:r,paramsKey:l})})})]})};i.A=c},38079:function(j,i,t){var e=t(62540),a=t(52445),E=t(66825);const u=o=>(0,e.jsx)("div",{style:{width:"100%",minHeight:"50vh"},children:(0,e.jsx)(a.Ay,{children:({height:d,width:A})=>(0,e.jsx)(E.A,{...o,height:d,width:A})})});i.A=u},66825:function(j,i,t){var e=t(62540),a=t(63696),E=t(97329),u=t(79618);const o=d=>{const{result:A,pageChange:_,RenderItem:h,itemSize:D=45,paramsKey:c,width:m="100%",height:x=600}=d,{pending:B,data:P}=A,{list:C=[],total:f=1,size:s=10,current:n=1}=P||{},l=(y,K)=>{if(B)return;const O=~~((K+1)/s);_?.(O,s)},r=(0,a.useRef)(null);(0,a.useEffect)(()=>{r.current&&(r.current.resetloadMoreItemsCache?.(),r.current._listRef?.scrollTo(0)),p.current={}},[c]);const p=(0,a.useRef)({[n]:C});B||(p.current[n]=C);const L=[];Object.keys(p.current).map(y=>L.push(...p.current[y]));const U=L.length,g=U<f,R=g?U+s:U,W=y=>!g||y<U;return(0,e.jsx)(u.A,{ref:r,isItemLoaded:W,itemCount:R,loadMoreItems:l,children:({onItemsRendered:y,ref:K})=>(0,e.jsx)(E.Y1,{height:x,width:m,className:"virtual-list",ref:K,itemSize:D,itemCount:R,onItemsRendered:y,children:({index:O,style:I})=>typeof h=="function"?h({index:O,style:I,item:L[O],isItemLoaded:W}):`${O}-${L[O].name}`})})};i.A=o},4085:function(j,i,t){var e=t(62540),a=t(92076);const E=u=>{const{result:o,pageChange:d,columns:A,rowSelection:_,pagination:h,...D}=u,{pending:c,data:m}=o,{total:x,current:B,size:P,list:C}=m||{},f=(l,r)=>{d?.(l,r)},s=_?{columnWidth:"30px",...typeof _=="object"?_:null}:null,n=h===!1?!1:{onShowSizeChange:f,onChange:f,showSizeChanger:!0,showQuickJumper:!0,total:x||1,current:B||1,pageSize:P||10,pageSizeOptions:["10","20","30","40"],size:"small",...typeof h=="object"?h:null};return(0,e.jsx)(a.A,{pagination:n,rowSelection:s,columns:A,dataSource:C??[],loading:c,size:"small",bordered:!0,scroll:{x:!0},...D})};i.A=E},28205:function(){var j={}},2517:function(){var j={}},46645:function(j,i,t){t.d(i,{Zp:function(){return A},r9:function(){return a},rY:function(){return e},vz:function(){return _}});const e=[{type:"vip1",label:"\u57FA\u7840\u7248",price:29,period:3,count:800,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

800 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 3 \u4E2A\u6708\u3002`},{type:"vip2",label:"\u767D\u94F6\u7248",price:39,period:6,count:1500,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

1500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 6 \u4E2A\u6708\u3002`},{type:"vip3",label:"\u9EC4\u91D1\u7248",price:69,period:12,count:3e3,description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

3000 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\uFF0C\u6709\u6548\u671F 12 \u4E2A\u6708\u3002`}],a=[{value:0,label:"\u666E\u901A\u7528\u6237",price:0,period:0,name:"general",description:"\u6BCF\u5929 2 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002"},{value:1,label:"\u57FA\u7840\u4F1A\u5458",price:19,period:1,name:"vip1",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 50 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:2,label:"\u767D\u94F6\u4F1A\u5458",price:29,period:1,name:"vip2",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 100 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:3,label:"\u9EC4\u91D1\u4F1A\u5458",price:39,period:1,name:"vip3",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 200 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:4,label:"\u94BB\u77F3\u4F1A\u5458",price:49,period:1,name:"vip4",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 320 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`},{value:5,label:"\u8D85\u7EA7\u7BA1\u7406\u5458",price:1e4,period:1e4,name:"vip5",description:`\u63D0\u4F9B OpenAI API \u63A5\u53E3\u4EE3\u7406\u3002

\u6BCF\u5929 500 \u6B21 chatgpt \u5BF9\u8BDD\u673A\u4F1A\u3002`}],E=[{value:1,label:"1 \u4E2A\u6708"},{value:3,label:"3 \u4E2A\u6708"},{value:6,label:"6 \u4E2A\u6708"},{value:12,label:"12 \u4E2A\u6708"},{value:24,label:"24 \u4E2A\u6708"}],u=[{value:"get",label:"get"},{value:"post",label:"post"}],o=[{value:"data",label:"data"},{value:"params",label:"params"},{value:"form",label:"form"},{value:"formData",label:"formData"}],d=[{value:0,label:"\u666E\u901A",color:"green"},{value:1,label:"\u91CD\u8981",color:"orange"},{value:2,label:"\u6838\u5FC3",color:"red"}],A={labelCol:{span:4},wrapperCol:{span:16}},_={wrapperCol:{offset:4,span:16}},h={sm:12,xs:12},D={rowKey:"name",pagination:!1,scroll:{x:!0,y:!0},size:"small"}},34518:function(j,i,t){t.d(i,{GH:function(){return D},Hc:function(){return x},QJ:function(){return f},Zt:function(){return B},gE:function(){return c},lZ:function(){return h},qd:function(){return C},vR:function(){return m}});var e=t(62540),a=t(73672),E=t(2258),u=t(75668),o=t(60608),d=t(46645),A=t(48044),_=t(51);const h=A,D=_.A,c=_.g,m=[{key:1,value:"\u5DF2\u6FC0\u6D3B"},{key:0,value:"\u672A\u6FC0\u6D3B"}],x=[{type:"input",name:"name",label:"\u7528\u6237\u540D",props:{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0,style:{width:"120px"}}},{type:"select",name:"role",label:"\u7B49\u7EA7",props:{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:"100px"},options:d.r9}}],B=(s,n)=>[{key:"add",type:"primary",label:"\u65B0\u589E",action:s.handleAdd},{key:"export",type:"default",label:"\u5BFC\u51FA",action:s.handleExport},{key:"handleDelete",type:"default",label:"\u6279\u91CF\u5220\u9664",action:s.handleDelete,disabled:n}],P=[{key:"handleCheck",type:"link",label:"\u8BBE\u7F6E"},{key:"handleEdit",type:"link",label:"\u7F16\u8F91"},{key:"handleDelete",type:"link",label:"\u5220\u9664"}],C=[{dataIndex:"name",title:"\u7528\u6237\u540D"},{dataIndex:"email",title:"\u90AE\u7BB1"},{dataIndex:"active",title:"\u72B6\u6001"},{dataIndex:"github",title:"\u7ED1\u5B9AGitHub"},{dataIndex:"role",title:"\u7B49\u7EA7"},{dataIndex:"updatetime",title:"\u66F4\u65B0\u65F6\u95F4"},{dataIndex:"updater",title:"\u66F4\u65B0\u4EBA"},{dataIndex:"action",title:"\u64CD\u4F5C",align:"center"}],f=s=>[{dataIndex:"name",render:(n,l)=>(0,e.jsx)("span",{className:"link",onClick:()=>s.handleCheck(l),children:n})},{dataIndex:"email",render:n=>n.replace(/\S+(@\S+)/,"*****$1")},{dataIndex:"active",render:n=>n?(0,e.jsx)(a.A,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,e.jsx)(a.A,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"github",render:n=>n?(0,e.jsx)(a.A,{color:"green",children:"\u5DF2\u6FC0\u6D3B"}):(0,e.jsx)(a.A,{color:"red",children:"\u672A\u6FC0\u6D3B"})},{dataIndex:"role",render:(n,l)=>d.r9.find(r=>r.value===n)?.label??"-"},{dataIndex:"updatetime",render:(n,l)=>{const r=n||l.createtime||l.signuptime||+new Date;return(0,o.fUm)(new Date(r))}},{dataIndex:"updater",render:(n,l)=>n||l.creator},{dataIndex:"action",render:(n,l)=>{const p=Object.keys(s).map(L=>({...P.find(U=>U.key===L),action:s[L]}));return(0,e.jsx)(E.A,{children:p.map(({key:L,action:U,type:g,label:R})=>(0,e.jsx)(u.Ay,{type:g,size:"small",disabled:!1,danger:L==="handleDelete",onClick:()=>U(l),children:R},L))})}}]},22258:function(j,i,t){t.d(i,{Lx:function(){return A},VV:function(){return d}});var e=t(60608);const a={name:"demo",email:"demo@gmail.com",password:"123456",role:2,token:(0,e.gZm)(),projectName:"demo",projectId:"demo-1",description:"demo",active:1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy",avatar:"https://pic2.zhimg.com/a2e68681a006bd3e60fd5b22d51cb629_im.jpg",github:""},E={path:"",projectId:"demo-1",parentId:"",name:"",icon:"",redirect:"",hideMenu:!1,denied:!1,component:"",isRoot:!1,createtime:+new Date,updatetime:+new Date,creator:"huy",updater:"huy"},u=[{parentId:"",path:"/",name:"\u9996\u9875",icon:"HomeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620635990643},{parentId:"",path:"/user",name:"\u767B\u5F55\u6CE8\u518C",icon:"TeamOutlined",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636017796},{parentId:"",path:"/404",name:"404",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636048186},{parentId:"/user",path:"/user/signin",name:"\u767B\u5F55",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636070080},{parentId:"/user",path:"/user/signup",name:"\u6CE8\u518C",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636092363},{parentId:"/user",path:"/user/verifyEmail",name:"\u9A8C\u8BC1\u90AE\u7BB1",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636109839},{parentId:"/user",path:"/user/setNewPwd",name:"\u91CD\u7F6E\u5BC6\u7801",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636127522},{parentId:"/",path:"/layout",name:"\u6846\u67B6\u914D\u7F6E",icon:"LayoutOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636154481,updater:"zys",updatetime:1624872133851},{parentId:"/",path:"/projects",name:"\u9879\u76EE\u7BA1\u7406",icon:"ConsoleSqlOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636177773},{parentId:"/",path:"/projects/add",name:"\u6DFB\u52A0\u9879\u76EE",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636207200},{parentId:"/",path:"/projects/edit/:id",name:"\u7F16\u8F91\u9879\u76EE",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636226823},{parentId:"/",path:"/projects/router/:id",name:"\u9879\u76EE\u8DEF\u7531\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636245820},{parentId:"/",path:"/users",name:"\u7528\u6237\u7BA1\u7406",icon:"UsergroupAddOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636267387},{parentId:"/",path:"/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636289415},{parentId:"/",path:"/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636307487},{parentId:"/",path:"/users/auth/:id",name:"\u8DEF\u7531\u6743\u9650\u8BBE\u7F6E",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636329861},{parentId:"/",path:"/profile",name:"\u4E2A\u4EBA\u4E2D\u5FC3",hideMenu:!0,denied:!1,creator:"zys",createtime:1620636349501},{parentId:"/",path:"/dashboard",name:"\u4EEA\u8868\u76D8",icon:"DashboardOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636376269},{parentId:"/",path:"/pages",name:"\u9875\u9762\u8BBE\u8BA1",icon:"DesktopOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636398998},{parentId:"/",path:"/apis",name:"\u63A5\u53E3\u7BA1\u7406",icon:"ClusterOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636421223},{parentId:"/",path:"/docs",name:"\u6587\u6863\u7BA1\u7406",icon:"FileMarkdownOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636442351},{parentId:"/",path:"/i18n",name:"\u8BED\u8A00\u7BA1\u7406",icon:"GlobalOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1620636467249},{parentId:"/",path:"/apis/add",name:"\u6DFB\u52A0\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690561030},{parentId:"/",path:"/apis/edit/:id",name:"\u7F16\u8F91\u63A5\u53E3",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690599153},{parentId:"/",path:"/apis/test/:id",name:"\u63A5\u53E3\u6D4B\u8BD5",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690623384},{parentId:"/",path:"/suspense",name:"suspense",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690670034},{parentId:"/",path:"/canvas",name:"\u56FE\u5F62\u7ED8\u5236",icon:"AreaChartOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690702896},{parentId:"/",path:"/editor",name:"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",icon:"EditOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1624690737041},{parentId:"/",path:"/low-code",name:"\u4F4E\u4EE3\u7801",icon:"CoffeeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882549254},{parentId:"/low-code",path:"/low-code/users/edit/:id",name:"\u7F16\u8F91\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882672292},{parentId:"/low-code",path:"/low-code/users/add",name:"\u6DFB\u52A0\u7528\u6237",hideMenu:!0,denied:!1,creator:"zys",createtime:1626882700289},{parentId:"/low-code",path:"/low-code/users",name:"\u4E1A\u52A1\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882742565},{parentId:"/low-code",path:"/low-code/ui",name:"UI\u7EC4\u4EF6",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882785052},{parentId:"/low-code",path:"/low-code/dom",name:"\u539F\u751Fdom",icon:"CodeOutlined",hideMenu:!1,denied:!1,creator:"zys",createtime:1626882800008}],d=((_,h=10)=>[...Array(h)].map((D,c)=>({..._,_id:(0,e.gZm)(),name:`${_.name}-${c+1}`,email:`${_.name}${c+1}@gmail.com`,role:(0,e.ImQ)(5),active:(0,e.G1U)()})))(a,500),A=u.map(_=>({...E,..._,_id:(0,e.gZm)()}))},48044:function(j,i,t){t.r(i),t.d(i,{addRouter:function(){return x},addUser:function(){return _},allUser:function(){return c},deleteRouter:function(){return P},deleteUser:function(){return D},editRouter:function(){return B},editUser:function(){return h},getAuthedRouter:function(){return C},getRouter:function(){return m},login:function(){return d},logout:function(){return A},projectList:function(){return o},setAuthedRouter:function(){return f}});var e=t(60608),a=t(17861),E=t(22258);const u=(0,e.y$O)();u.setState({users:E.VV,routers:E.Lx});const o=[{_id:(0,e.gZm)(),name:"demo1"},{_id:(0,e.gZm)(),name:"demo2"}],d=async s=>{const n=await(0,a.W)(),r=u.getState("users").find(p=>s.name===p.name&&s.password===p.password);return{...n,result:r}},A=async s=>({...await(0,a.W)(),result:!0}),_=async s=>{const n=await(0,a.W)(),l={...s,_id:(0,e.gZm)()},r=u.getState("users");return r.push(l),u.setState({users:r}),{...n,result:l}},h=async s=>{const n=await(0,a.W)(),l=u.getState("users");let r=l.find(p=>p._id===s._id);return r&&(r={...r,...s},u.setState({users:l})),{...n,result:s}},D=async({ids:s})=>{const n=await(0,a.W)(),l=u.getState("users");return(s||[]).map(r=>{const p=l.findIndex(L=>L._id===r);p>-1&&l.splice(p,1)}),u.setState({users:l}),n},c=async({active:s,current:n,size:l,name:r,role:p})=>{const L=await(0,a.W)(),U=u.getState("users"),g=l*(n-1);let R=[];if(s!=null?R=U.filter(y=>y.active==s):R=[...U],p!=null&&(R=R.filter(y=>y.role===p)),r){const y=new RegExp(r,"gi");R=R.filter(K=>K.name.toString().match(y))}const W=R.slice(g,g+l);return{...L,result:{current:n,size:l,total:R.length,list:W}}},m=async()=>{const s=await(0,a.W)(),n=u.getState("routers");return{...s,result:n}},x=async s=>{const n=await(0,a.W)(),l=u.getState("routers"),r={...s,_id:(0,e.gZm)()};return l.push(r),u.setState({routers:l}),{...n,result:r}},B=async s=>{const n=await(0,a.W)(),l=u.getState("routers");let r=l.find(p=>p._id===s._id);return r&&(r={...r,...s},u.setState({routers:l})),{...n,result:s}},P=async s=>{const n=await(0,a.W)(),l=u.getState("routers"),r=l.findIndex(p=>p._id===s._id);return r>-1&&(l.splice(r,1),u.setState({routers:l})),n},C=async()=>{const s=await(0,a.W)(),n=u.getState("authedRouter")||[];return{...s,result:n}},f=async s=>{const n=await(0,a.W)(),l=u.getState("authedRouter")||[],r=[...new Set([...l,...s?.authKeys??[]])];return u.setState({authedRouter:r}),{...n,result:r}}},17861:function(j,i,t){t.d(i,{W:function(){return a}});var e=t(60608);const a=async u=>(await(0,e.yy4)(),{code:200,message:"success\uFF01",result:{}}),E=(u,o=10)=>[...Array(o)].map((d,A)=>({id:uuidv4(),...u}))}}]);
